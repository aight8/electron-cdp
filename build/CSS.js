"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const EventEmitter = require("events");
const DebuggerError_1 = require("./DebuggerError");
/**
 * This domain exposes CSS read/write operations. All CSS objects (stylesheets, rules, and styles) have an associated <code>id</code> used in subsequent operations on the related object. Each object type has a specific <code>id</code> structure, and those are not interchangeable between objects of different kinds. CSS objects can be loaded using the <code>get*ForNode()</code> calls (which accept a DOM node id). A client can also discover all the existing stylesheets with the <code>getAllStyleSheets()</code> method (or keeping track of the <code>styleSheetAdded</code>/<code>styleSheetRemoved</code> events) and subsequently load the required stylesheet contents using the <code>getStyleSheet[Text]()</code> methods.
 * @experimental
 */
class CSS {
    constructor(dbg /* Electron.Debugger*/) {
        this.dbg = dbg; /* Electron.Debugger*/
        this.events = new EventEmitter();
        this.dbg.on('message', (event, method, params) => {
            const [domain, domainMethod] = method.split('.');
            this.events.emit(domainMethod, params);
        });
        if (!this.dbg.isAttached()) {
            throw new Error(`Cannot create CSS Domain Class because the debugger is not attached.`);
        }
    }
    on(event, listener) {
        this.events.on(event, listener);
    }
    once(event, listener) {
        this.events.on(event, listener);
    }
    assertError(error, commandName) {
        if ('message' in error && 'code' in error) {
            throw new DebuggerError_1.default(error.message, error.code, commandName);
        }
    }
    /** Enables the CSS agent for the given page. Clients should not assume that the CSS agent has been enabled until the result of this command is received. */
    async enable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.enable', {}, (error, result) => {
                this.assertError(error, 'CSS.enable');
                resolve();
            });
        });
    }
    /** Disables the CSS agent for the given page. */
    async disable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.disable', {}, (error, result) => {
                this.assertError(error, 'CSS.disable');
                resolve();
            });
        });
    }
    /** Returns requested styles for a DOM node identified by <code>nodeId</code>. */
    async getMatchedStylesForNode(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getMatchedStylesForNode', params, (error, result) => {
                this.assertError(error, 'CSS.getMatchedStylesForNode');
                resolve(result);
            });
        });
    }
    /** Returns the styles defined inline (explicitly in the "style" attribute and implicitly, using DOM attributes) for a DOM node identified by <code>nodeId</code>. */
    async getInlineStylesForNode(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getInlineStylesForNode', params, (error, result) => {
                this.assertError(error, 'CSS.getInlineStylesForNode');
                resolve(result);
            });
        });
    }
    /** Returns the computed style for a DOM node identified by <code>nodeId</code>. */
    async getComputedStyleForNode(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getComputedStyleForNode', params, (error, result) => {
                this.assertError(error, 'CSS.getComputedStyleForNode');
                resolve(result);
            });
        });
    }
    /**
     * Requests information about platform fonts which we used to render child TextNodes in the given node.
     * @experimental
     */
    async getPlatformFontsForNode(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getPlatformFontsForNode', params, (error, result) => {
                this.assertError(error, 'CSS.getPlatformFontsForNode');
                resolve(result);
            });
        });
    }
    /** Returns the current textual content and the URL for a stylesheet. */
    async getStyleSheetText(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getStyleSheetText', params, (error, result) => {
                this.assertError(error, 'CSS.getStyleSheetText');
                resolve(result);
            });
        });
    }
    /**
     * Returns all class names from specified stylesheet.
     * @experimental
     */
    async collectClassNames(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.collectClassNames', params, (error, result) => {
                this.assertError(error, 'CSS.collectClassNames');
                resolve(result);
            });
        });
    }
    /** Sets the new stylesheet text. */
    async setStyleSheetText(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setStyleSheetText', params, (error, result) => {
                this.assertError(error, 'CSS.setStyleSheetText');
                resolve(result);
            });
        });
    }
    /** Modifies the rule selector. */
    async setRuleSelector(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setRuleSelector', params, (error, result) => {
                this.assertError(error, 'CSS.setRuleSelector');
                resolve(result);
            });
        });
    }
    /** Modifies the keyframe rule key text. */
    async setKeyframeKey(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setKeyframeKey', params, (error, result) => {
                this.assertError(error, 'CSS.setKeyframeKey');
                resolve(result);
            });
        });
    }
    /** Applies specified style edits one after another in the given order. */
    async setStyleTexts(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setStyleTexts', params, (error, result) => {
                this.assertError(error, 'CSS.setStyleTexts');
                resolve(result);
            });
        });
    }
    /** Modifies the rule selector. */
    async setMediaText(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setMediaText', params, (error, result) => {
                this.assertError(error, 'CSS.setMediaText');
                resolve(result);
            });
        });
    }
    /** Creates a new special "via-inspector" stylesheet in the frame with given <code>frameId</code>. */
    async createStyleSheet(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.createStyleSheet', params, (error, result) => {
                this.assertError(error, 'CSS.createStyleSheet');
                resolve(result);
            });
        });
    }
    /** Inserts a new rule with the given <code>ruleText</code> in a stylesheet with given <code>styleSheetId</code>, at the position specified by <code>location</code>. */
    async addRule(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.addRule', params, (error, result) => {
                this.assertError(error, 'CSS.addRule');
                resolve(result);
            });
        });
    }
    /** Ensures that the given node will have specified pseudo-classes whenever its style is computed by the browser. */
    async forcePseudoState(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.forcePseudoState', params, (error, result) => {
                this.assertError(error, 'CSS.forcePseudoState');
                resolve();
            });
        });
    }
    /**
     * Returns all media queries parsed by the rendering engine.
     * @experimental
     */
    async getMediaQueries() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getMediaQueries', {}, (error, result) => {
                this.assertError(error, 'CSS.getMediaQueries');
                resolve(result);
            });
        });
    }
    /**
     * Find a rule with the given active property for the given node and set the new value for this property
     * @experimental
     */
    async setEffectivePropertyValueForNode(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.setEffectivePropertyValueForNode', params, (error, result) => {
                this.assertError(error, 'CSS.setEffectivePropertyValueForNode');
                resolve();
            });
        });
    }
    /**
     * No description
     * @experimental
     */
    async getBackgroundColors(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getBackgroundColors', params, (error, result) => {
                this.assertError(error, 'CSS.getBackgroundColors');
                resolve(result);
            });
        });
    }
    /**
     * For the main document and any content documents, return the LayoutTreeNodes and a whitelisted subset of the computed style. It only returns pushed nodes, on way to pull all nodes is to call DOM.getDocument with a depth of -1.
     * @experimental
     */
    async getLayoutTreeAndStyles(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.getLayoutTreeAndStyles', params, (error, result) => {
                this.assertError(error, 'CSS.getLayoutTreeAndStyles');
                resolve(result);
            });
        });
    }
    /**
     * Enables the selector recording.
     * @experimental
     */
    async startRuleUsageTracking() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.startRuleUsageTracking', {}, (error, result) => {
                this.assertError(error, 'CSS.startRuleUsageTracking');
                resolve();
            });
        });
    }
    /**
     * Obtain list of rules that became used since last call to this method (or since start of coverage instrumentation)
     * @experimental
     */
    async takeCoverageDelta() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.takeCoverageDelta', {}, (error, result) => {
                this.assertError(error, 'CSS.takeCoverageDelta');
                resolve(result);
            });
        });
    }
    /**
     * The list of rules with an indication of whether these were used
     * @experimental
     */
    async stopRuleUsageTracking() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('CSS.stopRuleUsageTracking', {}, (error, result) => {
                this.assertError(error, 'CSS.stopRuleUsageTracking');
                resolve(result);
            });
        });
    }
}
exports.default = CSS;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ1NTLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vZ2VuZXJhdGVkLXRzL0NTUy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFzQztBQUN0QyxtREFBMkM7QUFvMkIzQzs7O0dBR0c7QUFDSDtJQUdJLFlBQTZCLEdBQVEsQ0FBQyxzQkFBc0I7UUFBL0IsUUFBRyxHQUFILEdBQUcsQ0FBSyxDQUFDLHNCQUFzQjtRQUZwRCxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQTtRQUkvQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVyxFQUFFLE1BQVc7WUFDeEQsTUFBTSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUMxQyxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzRUFBc0UsQ0FBQyxDQUFBO1FBQzNGLENBQUM7SUFDTCxDQUFDO0lBRU0sRUFBRSxDQUFDLEtBQWEsRUFBRSxRQUFrQjtRQUN2QyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVNLElBQUksQ0FBQyxLQUFhLEVBQUUsUUFBa0I7UUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFTyxXQUFXLENBQUMsS0FBVSxFQUFFLFdBQW1CO1FBQy9DLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDeEMsTUFBTSxJQUFJLHVCQUFhLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFBO1FBQ25FLENBQUM7SUFDTCxDQUFDO0lBRUQsNEpBQTRKO0lBQ3JKLEtBQUssQ0FBQyxNQUFNO1FBQ2YsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUNoRCxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQzNELElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFBO2dCQUNyQyxPQUFPLEVBQUUsQ0FBQTtZQUNiLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsaURBQWlEO0lBQzFDLEtBQUssQ0FBQyxPQUFPO1FBQ2hCLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFZLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDaEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQTtnQkFDdEMsT0FBTyxFQUFFLENBQUE7WUFDYixDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELGlGQUFpRjtJQUMxRSxLQUFLLENBQUMsdUJBQXVCLENBQUMsTUFBMEM7UUFDM0UsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQXFDLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDekUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsNkJBQTZCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQ2hGLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDZCQUE2QixDQUFDLENBQUE7Z0JBQ3RELE9BQU8sQ0FBQyxNQUE0QyxDQUFDLENBQUE7WUFDekQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxxS0FBcUs7SUFDOUosS0FBSyxDQUFDLHNCQUFzQixDQUFDLE1BQXlDO1FBQ3pFLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFvQyxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ3hFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUMvRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSw0QkFBNEIsQ0FBQyxDQUFBO2dCQUNyRCxPQUFPLENBQUMsTUFBMkMsQ0FBQyxDQUFBO1lBQ3hELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsbUZBQW1GO0lBQzVFLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxNQUEwQztRQUMzRSxNQUFNLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBcUMsQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUN6RSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDaEYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsNkJBQTZCLENBQUMsQ0FBQTtnQkFDdEQsT0FBTyxDQUFDLE1BQTRDLENBQUMsQ0FBQTtZQUN6RCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVEOzs7T0FHRztJQUNJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxNQUEwQztRQUMzRSxNQUFNLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBcUMsQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUN6RSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDaEYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsNkJBQTZCLENBQUMsQ0FBQTtnQkFDdEQsT0FBTyxDQUFDLE1BQTRDLENBQUMsQ0FBQTtZQUN6RCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELHdFQUF3RTtJQUNqRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBb0M7UUFDL0QsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQStCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDbkUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQzFFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLHVCQUF1QixDQUFDLENBQUE7Z0JBQ2hELE9BQU8sQ0FBQyxNQUFzQyxDQUFDLENBQUE7WUFDbkQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBb0M7UUFDL0QsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQStCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDbkUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQzFFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLHVCQUF1QixDQUFDLENBQUE7Z0JBQ2hELE9BQU8sQ0FBQyxNQUFzQyxDQUFDLENBQUE7WUFDbkQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxvQ0FBb0M7SUFDN0IsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQW9DO1FBQy9ELE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUErQixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ25FLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHVCQUF1QixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUMxRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO2dCQUNoRCxPQUFPLENBQUMsTUFBc0MsQ0FBQyxDQUFBO1lBQ25ELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsa0NBQWtDO0lBQzNCLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBa0M7UUFDM0QsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQTZCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDakUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQ3hFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLHFCQUFxQixDQUFDLENBQUE7Z0JBQzlDLE9BQU8sQ0FBQyxNQUFvQyxDQUFDLENBQUE7WUFDakQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCwyQ0FBMkM7SUFDcEMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxNQUFpQztRQUN6RCxNQUFNLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBNEIsQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUNoRSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDdkUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsb0JBQW9CLENBQUMsQ0FBQTtnQkFDN0MsT0FBTyxDQUFDLE1BQW1DLENBQUMsQ0FBQTtZQUNoRCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELDBFQUEwRTtJQUNuRSxLQUFLLENBQUMsYUFBYSxDQUFDLE1BQWdDO1FBQ3ZELE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUEyQixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQy9ELElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUN0RSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxDQUFBO2dCQUM1QyxPQUFPLENBQUMsTUFBa0MsQ0FBQyxDQUFBO1lBQy9DLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsa0NBQWtDO0lBQzNCLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBK0I7UUFDckQsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQTBCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDOUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQ3JFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLENBQUE7Z0JBQzNDLE9BQU8sQ0FBQyxNQUFpQyxDQUFDLENBQUE7WUFDOUMsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxxR0FBcUc7SUFDOUYsS0FBSyxDQUFDLGdCQUFnQixDQUFDLE1BQW1DO1FBQzdELE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUE4QixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHNCQUFzQixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUN6RSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxzQkFBc0IsQ0FBQyxDQUFBO2dCQUMvQyxPQUFPLENBQUMsTUFBcUMsQ0FBQyxDQUFBO1lBQ2xELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsd0tBQXdLO0lBQ2pLLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBMEI7UUFDM0MsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQXFCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDekQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUNoRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQTtnQkFDdEMsT0FBTyxDQUFDLE1BQTRCLENBQUMsQ0FBQTtZQUN6QyxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELG9IQUFvSDtJQUM3RyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsTUFBbUM7UUFDN0QsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUNoRCxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsc0JBQXNCLENBQUMsQ0FBQTtnQkFDL0MsT0FBTyxFQUFFLENBQUE7WUFDYixDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVEOzs7T0FHRztJQUNJLEtBQUssQ0FBQyxlQUFlO1FBQ3hCLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUE2QixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2pFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHFCQUFxQixFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUNwRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxDQUFBO2dCQUM5QyxPQUFPLENBQUMsTUFBb0MsQ0FBQyxDQUFBO1lBQ2pELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLE1BQW1EO1FBQzdGLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFZLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDaEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsc0NBQXNDLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQ3pGLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLHNDQUFzQyxDQUFDLENBQUE7Z0JBQy9ELE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsTUFBc0M7UUFDbkUsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQWlDLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDckUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMseUJBQXlCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQzVFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLHlCQUF5QixDQUFDLENBQUE7Z0JBQ2xELE9BQU8sQ0FBQyxNQUF3QyxDQUFDLENBQUE7WUFDckQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsc0JBQXNCLENBQUMsTUFBeUM7UUFDekUsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQW9DLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDeEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsNEJBQTRCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQy9FLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDRCQUE0QixDQUFDLENBQUE7Z0JBQ3JELE9BQU8sQ0FBQyxNQUEyQyxDQUFDLENBQUE7WUFDeEQsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsc0JBQXNCO1FBQy9CLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFZLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDaEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsNEJBQTRCLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQzNFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDRCQUE0QixDQUFDLENBQUE7Z0JBQ3JELE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsaUJBQWlCO1FBQzFCLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUErQixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ25FLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHVCQUF1QixFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUN0RSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO2dCQUNoRCxPQUFPLENBQUMsTUFBc0MsQ0FBQyxDQUFBO1lBQ25ELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksS0FBSyxDQUFDLHFCQUFxQjtRQUM5QixNQUFNLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBbUMsQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUN2RSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQywyQkFBMkIsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDMUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMkJBQTJCLENBQUMsQ0FBQTtnQkFDcEQsT0FBTyxDQUFDLE1BQTBDLENBQUMsQ0FBQTtZQUN2RCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUVKO0FBRUQsa0JBQWUsR0FBRyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cydcbmltcG9ydCBEZWJ1Z2dlckVycm9yIGZyb20gJy4vRGVidWdnZXJFcnJvcidcbmltcG9ydCBET00gZnJvbSAnLi9ET00nXG5pbXBvcnQgUGFnZSBmcm9tICcuL1BhZ2UnXG5cbmRlY2xhcmUgaW50ZXJmYWNlIENTUyB7XG5cbiAgICAvKiogRmlyZXMgd2hlbmV2ZXIgYSBNZWRpYVF1ZXJ5IHJlc3VsdCBjaGFuZ2VzIChmb3IgZXhhbXBsZSwgYWZ0ZXIgYSBicm93c2VyIHdpbmRvdyBoYXMgYmVlbiByZXNpemVkLikgVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gY29uc2lkZXJzIG9ubHkgdmlld3BvcnQtZGVwZW5kZW50IG1lZGlhIGZlYXR1cmVzLiAqL1xuICAgIG9uKGV2ZW50OiAnbWVkaWFRdWVyeVJlc3VsdENoYW5nZWQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZXMgd2hlbmV2ZXIgYSBNZWRpYVF1ZXJ5IHJlc3VsdCBjaGFuZ2VzIChmb3IgZXhhbXBsZSwgYWZ0ZXIgYSBicm93c2VyIHdpbmRvdyBoYXMgYmVlbiByZXNpemVkLikgVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gY29uc2lkZXJzIG9ubHkgdmlld3BvcnQtZGVwZW5kZW50IG1lZGlhIGZlYXR1cmVzLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdtZWRpYVF1ZXJ5UmVzdWx0Q2hhbmdlZCcsIGxpc3RlbmVyOiAoKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIEZpcmVzIHdoZW5ldmVyIGEgd2ViIGZvbnQgZ2V0cyBsb2FkZWQuICovXG4gICAgb24oZXZlbnQ6ICdmb250c1VwZGF0ZWQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZXMgd2hlbmV2ZXIgYSB3ZWIgZm9udCBnZXRzIGxvYWRlZC4gKi9cbiAgICBvbmNlKGV2ZW50OiAnZm9udHNVcGRhdGVkJywgbGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKiogRmlyZWQgd2hlbmV2ZXIgYSBzdHlsZXNoZWV0IGlzIGNoYW5nZWQgYXMgYSByZXN1bHQgb2YgdGhlIGNsaWVudCBvcGVyYXRpb24uICovXG4gICAgb24oZXZlbnQ6ICdzdHlsZVNoZWV0Q2hhbmdlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBDU1MuRXZlbnRQYXJhbXMuc3R5bGVTaGVldENoYW5nZWQpID0+IHZvaWQpOiB2b2lkXG4gICAgLyoqIEZpcmVkIHdoZW5ldmVyIGEgc3R5bGVzaGVldCBpcyBjaGFuZ2VkIGFzIGEgcmVzdWx0IG9mIHRoZSBjbGllbnQgb3BlcmF0aW9uLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdzdHlsZVNoZWV0Q2hhbmdlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBDU1MuRXZlbnRQYXJhbXMuc3R5bGVTaGVldENoYW5nZWQpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKiogRmlyZWQgd2hlbmV2ZXIgYW4gYWN0aXZlIGRvY3VtZW50IHN0eWxlc2hlZXQgaXMgYWRkZWQuICovXG4gICAgb24oZXZlbnQ6ICdzdHlsZVNoZWV0QWRkZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogQ1NTLkV2ZW50UGFyYW1zLnN0eWxlU2hlZXRBZGRlZCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZWQgd2hlbmV2ZXIgYW4gYWN0aXZlIGRvY3VtZW50IHN0eWxlc2hlZXQgaXMgYWRkZWQuICovXG4gICAgb25jZShldmVudDogJ3N0eWxlU2hlZXRBZGRlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBDU1MuRXZlbnRQYXJhbXMuc3R5bGVTaGVldEFkZGVkKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIEZpcmVkIHdoZW5ldmVyIGFuIGFjdGl2ZSBkb2N1bWVudCBzdHlsZXNoZWV0IGlzIHJlbW92ZWQuICovXG4gICAgb24oZXZlbnQ6ICdzdHlsZVNoZWV0UmVtb3ZlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBDU1MuRXZlbnRQYXJhbXMuc3R5bGVTaGVldFJlbW92ZWQpID0+IHZvaWQpOiB2b2lkXG4gICAgLyoqIEZpcmVkIHdoZW5ldmVyIGFuIGFjdGl2ZSBkb2N1bWVudCBzdHlsZXNoZWV0IGlzIHJlbW92ZWQuICovXG4gICAgb25jZShldmVudDogJ3N0eWxlU2hlZXRSZW1vdmVkJywgbGlzdGVuZXI6IChwYXJhbXM6IENTUy5FdmVudFBhcmFtcy5zdHlsZVNoZWV0UmVtb3ZlZCkgPT4gdm9pZCk6IHZvaWRcblxufVxuXG5tb2R1bGUgQ1NTIHtcbiAgICAvKioqKioqKioqKioqKioqXG4gICAgICoqKiogVHlwZXMgKioqKlxuICAgICAqKioqKioqKioqKioqKi9cblxuICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgZXhwb3J0IHR5cGUgU3R5bGVTaGVldElkID0gc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBTdHlsZXNoZWV0IHR5cGU6IFwiaW5qZWN0ZWRcIiBmb3Igc3R5bGVzaGVldHMgaW5qZWN0ZWQgdmlhIGV4dGVuc2lvbiwgXCJ1c2VyLWFnZW50XCIgZm9yIHVzZXItYWdlbnQgc3R5bGVzaGVldHMsIFwiaW5zcGVjdG9yXCIgZm9yIHN0eWxlc2hlZXRzIGNyZWF0ZWQgYnkgdGhlIGluc3BlY3RvciAoaS5lLiB0aG9zZSBob2xkaW5nIHRoZSBcInZpYSBpbnNwZWN0b3JcIiBydWxlcyksIFwicmVndWxhclwiIGZvciByZWd1bGFyIHN0eWxlc2hlZXRzLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBTdHlsZVNoZWV0T3JpZ2luID0gJ2luamVjdGVkJyB8ICd1c2VyLWFnZW50JyB8ICdpbnNwZWN0b3InIHwgJ3JlZ3VsYXInXG5cbiAgICAvKipcbiAgICAgKiBDU1MgcnVsZSBjb2xsZWN0aW9uIGZvciBhIHNpbmdsZSBwc2V1ZG8gc3R5bGUuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFBzZXVkb0VsZW1lbnRNYXRjaGVzID0ge1xuICAgICAgICAvKiogUHNldWRvIGVsZW1lbnQgdHlwZS4gKi9cbiAgICAgICAgcHNldWRvVHlwZTogRE9NLlBzZXVkb1R5cGVcblxuICAgICAgICAvKiogTWF0Y2hlcyBvZiBDU1MgcnVsZXMgYXBwbGljYWJsZSB0byB0aGUgcHNldWRvIHN0eWxlLiAqL1xuICAgICAgICBtYXRjaGVzOiBSdWxlTWF0Y2hbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaGVyaXRlZCBDU1MgcnVsZSBjb2xsZWN0aW9uIGZyb20gYW5jZXN0b3Igbm9kZS5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgSW5oZXJpdGVkU3R5bGVFbnRyeSA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNlc3RvciBub2RlJ3MgaW5saW5lIHN0eWxlLCBpZiBhbnksIGluIHRoZSBzdHlsZSBpbmhlcml0YW5jZSBjaGFpbi5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBpbmxpbmVTdHlsZT86IENTU1N0eWxlXG5cbiAgICAgICAgLyoqIE1hdGNoZXMgb2YgQ1NTIHJ1bGVzIG1hdGNoaW5nIHRoZSBhbmNlc3RvciBub2RlIGluIHRoZSBzdHlsZSBpbmhlcml0YW5jZSBjaGFpbi4gKi9cbiAgICAgICAgbWF0Y2hlZENTU1J1bGVzOiBSdWxlTWF0Y2hbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hdGNoIGRhdGEgZm9yIGEgQ1NTIHJ1bGUuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFJ1bGVNYXRjaCA9IHtcbiAgICAgICAgLyoqIENTUyBydWxlIGluIHRoZSBtYXRjaC4gKi9cbiAgICAgICAgcnVsZTogQ1NTUnVsZVxuXG4gICAgICAgIC8qKiBNYXRjaGluZyBzZWxlY3RvciBpbmRpY2VzIGluIHRoZSBydWxlJ3Mgc2VsZWN0b3JMaXN0IHNlbGVjdG9ycyAoMC1iYXNlZCkuICovXG4gICAgICAgIG1hdGNoaW5nU2VsZWN0b3JzOiBudW1iZXJbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERhdGEgZm9yIGEgc2ltcGxlIHNlbGVjdG9yICh0aGVzZSBhcmUgZGVsaW1pdGVkIGJ5IGNvbW1hcyBpbiBhIHNlbGVjdG9yIGxpc3QpLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBWYWx1ZSA9IHtcbiAgICAgICAgLyoqIFZhbHVlIHRleHQuICovXG4gICAgICAgIHRleHQ6IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWx1ZSByYW5nZSBpbiB0aGUgdW5kZXJseWluZyByZXNvdXJjZSAoaWYgYXZhaWxhYmxlKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICByYW5nZT86IFNvdXJjZVJhbmdlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0b3IgbGlzdCBkYXRhLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBTZWxlY3Rvckxpc3QgPSB7XG4gICAgICAgIC8qKiBTZWxlY3RvcnMgaW4gdGhlIGxpc3QuICovXG4gICAgICAgIHNlbGVjdG9yczogVmFsdWVbXVxuXG4gICAgICAgIC8qKiBSdWxlIHNlbGVjdG9yIHRleHQuICovXG4gICAgICAgIHRleHQ6IHN0cmluZ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENTUyBzdHlsZXNoZWV0IG1ldGFpbmZvcm1hdGlvbi5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgQ1NTU3R5bGVTaGVldEhlYWRlciA9IHtcbiAgICAgICAgLyoqIFRoZSBzdHlsZXNoZWV0IGlkZW50aWZpZXIuICovXG4gICAgICAgIHN0eWxlU2hlZXRJZDogU3R5bGVTaGVldElkXG5cbiAgICAgICAgLyoqIE93bmVyIGZyYW1lIGlkZW50aWZpZXIuICovXG4gICAgICAgIGZyYW1lSWQ6IFBhZ2UuRnJhbWVJZFxuXG4gICAgICAgIC8qKiBTdHlsZXNoZWV0IHJlc291cmNlIFVSTC4gKi9cbiAgICAgICAgc291cmNlVVJMOiBzdHJpbmdcblxuICAgICAgICAvKipcbiAgICAgICAgICogVVJMIG9mIHNvdXJjZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoZSBzdHlsZXNoZWV0IChpZiBhbnkpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZU1hcFVSTD86IHN0cmluZ1xuXG4gICAgICAgIC8qKiBTdHlsZXNoZWV0IG9yaWdpbi4gKi9cbiAgICAgICAgb3JpZ2luOiBTdHlsZVNoZWV0T3JpZ2luXG5cbiAgICAgICAgLyoqIFN0eWxlc2hlZXQgdGl0bGUuICovXG4gICAgICAgIHRpdGxlOiBzdHJpbmdcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tlbmQgaWQgZm9yIHRoZSBvd25lciBub2RlIG9mIHRoZSBzdHlsZXNoZWV0LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIG93bmVyTm9kZT86IERPTS5CYWNrZW5kTm9kZUlkXG5cbiAgICAgICAgLyoqIERlbm90ZXMgd2hldGhlciB0aGUgc3R5bGVzaGVldCBpcyBkaXNhYmxlZC4gKi9cbiAgICAgICAgZGlzYWJsZWQ6IGJvb2xlYW5cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgc291cmNlVVJMIGZpZWxkIHZhbHVlIGNvbWVzIGZyb20gdGhlIHNvdXJjZVVSTCBjb21tZW50LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGhhc1NvdXJjZVVSTD86IGJvb2xlYW5cblxuICAgICAgICAvKiogV2hldGhlciB0aGlzIHN0eWxlc2hlZXQgaXMgY3JlYXRlZCBmb3IgU1RZTEUgdGFnIGJ5IHBhcnNlci4gVGhpcyBmbGFnIGlzIG5vdCBzZXQgZm9yIGRvY3VtZW50LndyaXR0ZW4gU1RZTEUgdGFncy4gKi9cbiAgICAgICAgaXNJbmxpbmU6IGJvb2xlYW5cblxuICAgICAgICAvKiogTGluZSBvZmZzZXQgb2YgdGhlIHN0eWxlc2hlZXQgd2l0aGluIHRoZSByZXNvdXJjZSAoemVybyBiYXNlZCkuICovXG4gICAgICAgIHN0YXJ0TGluZTogbnVtYmVyXG5cbiAgICAgICAgLyoqIENvbHVtbiBvZmZzZXQgb2YgdGhlIHN0eWxlc2hlZXQgd2l0aGluIHRoZSByZXNvdXJjZSAoemVybyBiYXNlZCkuICovXG4gICAgICAgIHN0YXJ0Q29sdW1uOiBudW1iZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiB0aGUgY29udGVudCAoaW4gY2hhcmFjdGVycykuXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGxlbmd0aDogbnVtYmVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ1NTIHJ1bGUgcmVwcmVzZW50YXRpb24uXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIENTU1J1bGUgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3NzIHN0eWxlIHNoZWV0IGlkZW50aWZpZXIgKGFic2VudCBmb3IgdXNlciBhZ2VudCBzdHlsZXNoZWV0IGFuZCB1c2VyLXNwZWNpZmllZCBzdHlsZXNoZWV0IHJ1bGVzKSB0aGlzIHJ1bGUgY2FtZSBmcm9tLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0eWxlU2hlZXRJZD86IFN0eWxlU2hlZXRJZFxuXG4gICAgICAgIC8qKiBSdWxlIHNlbGVjdG9yIGRhdGEuICovXG4gICAgICAgIHNlbGVjdG9yTGlzdDogU2VsZWN0b3JMaXN0XG5cbiAgICAgICAgLyoqIFBhcmVudCBzdHlsZXNoZWV0J3Mgb3JpZ2luLiAqL1xuICAgICAgICBvcmlnaW46IFN0eWxlU2hlZXRPcmlnaW5cblxuICAgICAgICAvKiogQXNzb2NpYXRlZCBzdHlsZSBkZWNsYXJhdGlvbi4gKi9cbiAgICAgICAgc3R5bGU6IENTU1N0eWxlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lZGlhIGxpc3QgYXJyYXkgKGZvciBydWxlcyBpbnZvbHZpbmcgbWVkaWEgcXVlcmllcykuIFRoZSBhcnJheSBlbnVtZXJhdGVzIG1lZGlhIHF1ZXJpZXMgc3RhcnRpbmcgd2l0aCB0aGUgaW5uZXJtb3N0IG9uZSwgZ29pbmcgb3V0d2FyZHMuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgbWVkaWE/OiBDU1NNZWRpYVtdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ1NTIGNvdmVyYWdlIGluZm9ybWF0aW9uLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBSdWxlVXNhZ2UgPSB7XG4gICAgICAgIC8qKiBUaGUgY3NzIHN0eWxlIHNoZWV0IGlkZW50aWZpZXIgKGFic2VudCBmb3IgdXNlciBhZ2VudCBzdHlsZXNoZWV0IGFuZCB1c2VyLXNwZWNpZmllZCBzdHlsZXNoZWV0IHJ1bGVzKSB0aGlzIHJ1bGUgY2FtZSBmcm9tLiAqL1xuICAgICAgICBzdHlsZVNoZWV0SWQ6IFN0eWxlU2hlZXRJZFxuXG4gICAgICAgIC8qKiBPZmZzZXQgb2YgdGhlIHN0YXJ0IG9mIHRoZSBydWxlIChpbmNsdWRpbmcgc2VsZWN0b3IpIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc3R5bGVzaGVldC4gKi9cbiAgICAgICAgc3RhcnRPZmZzZXQ6IG51bWJlclxuXG4gICAgICAgIC8qKiBPZmZzZXQgb2YgdGhlIGVuZCBvZiB0aGUgcnVsZSBib2R5IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc3R5bGVzaGVldC4gKi9cbiAgICAgICAgZW5kT2Zmc2V0OiBudW1iZXJcblxuICAgICAgICAvKiogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJ1bGUgd2FzIGFjdHVhbGx5IHVzZWQgYnkgc29tZSBlbGVtZW50IGluIHRoZSBwYWdlLiAqL1xuICAgICAgICB1c2VkOiBib29sZWFuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGV4dCByYW5nZSB3aXRoaW4gYSByZXNvdXJjZS4gQWxsIG51bWJlcnMgYXJlIHplcm8tYmFzZWQuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFNvdXJjZVJhbmdlID0ge1xuICAgICAgICAvKiogU3RhcnQgbGluZSBvZiByYW5nZS4gKi9cbiAgICAgICAgc3RhcnRMaW5lOiBudW1iZXJcblxuICAgICAgICAvKiogU3RhcnQgY29sdW1uIG9mIHJhbmdlIChpbmNsdXNpdmUpLiAqL1xuICAgICAgICBzdGFydENvbHVtbjogbnVtYmVyXG5cbiAgICAgICAgLyoqIEVuZCBsaW5lIG9mIHJhbmdlICovXG4gICAgICAgIGVuZExpbmU6IG51bWJlclxuXG4gICAgICAgIC8qKiBFbmQgY29sdW1uIG9mIHJhbmdlIChleGNsdXNpdmUpLiAqL1xuICAgICAgICBlbmRDb2x1bW46IG51bWJlclxuICAgIH1cblxuICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgZXhwb3J0IHR5cGUgU2hvcnRoYW5kRW50cnkgPSB7XG4gICAgICAgIC8qKiBTaG9ydGhhbmQgbmFtZS4gKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG5cbiAgICAgICAgLyoqIFNob3J0aGFuZCB2YWx1ZS4gKi9cbiAgICAgICAgdmFsdWU6IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBoYXMgXCIhaW1wb3J0YW50XCIgYW5ub3RhdGlvbiAoaW1wbGllcyA8Y29kZT5mYWxzZTwvY29kZT4gaWYgYWJzZW50KS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBpbXBvcnRhbnQ/OiBib29sZWFuXG4gICAgfVxuXG4gICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICBleHBvcnQgdHlwZSBDU1NDb21wdXRlZFN0eWxlUHJvcGVydHkgPSB7XG4gICAgICAgIC8qKiBDb21wdXRlZCBzdHlsZSBwcm9wZXJ0eSBuYW1lLiAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcblxuICAgICAgICAvKiogQ29tcHV0ZWQgc3R5bGUgcHJvcGVydHkgdmFsdWUuICovXG4gICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDU1Mgc3R5bGUgcmVwcmVzZW50YXRpb24uXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIENTU1N0eWxlID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNzcyBzdHlsZSBzaGVldCBpZGVudGlmaWVyIChhYnNlbnQgZm9yIHVzZXIgYWdlbnQgc3R5bGVzaGVldCBhbmQgdXNlci1zcGVjaWZpZWQgc3R5bGVzaGVldCBydWxlcykgdGhpcyBydWxlIGNhbWUgZnJvbS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzdHlsZVNoZWV0SWQ/OiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAvKiogQ1NTIHByb3BlcnRpZXMgaW4gdGhlIHN0eWxlLiAqL1xuICAgICAgICBjc3NQcm9wZXJ0aWVzOiBDU1NQcm9wZXJ0eVtdXG5cbiAgICAgICAgLyoqIENvbXB1dGVkIHZhbHVlcyBmb3IgYWxsIHNob3J0aGFuZHMgZm91bmQgaW4gdGhlIHN0eWxlLiAqL1xuICAgICAgICBzaG9ydGhhbmRFbnRyaWVzOiBTaG9ydGhhbmRFbnRyeVtdXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0eWxlIGRlY2xhcmF0aW9uIHRleHQgKGlmIGF2YWlsYWJsZSkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgY3NzVGV4dD86IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHlsZSBkZWNsYXJhdGlvbiByYW5nZSBpbiB0aGUgZW5jbG9zaW5nIHN0eWxlc2hlZXQgKGlmIGF2YWlsYWJsZSkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgcmFuZ2U/OiBTb3VyY2VSYW5nZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENTUyBwcm9wZXJ0eSBkZWNsYXJhdGlvbiBkYXRhLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBDU1NQcm9wZXJ0eSA9IHtcbiAgICAgICAgLyoqIFRoZSBwcm9wZXJ0eSBuYW1lLiAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcblxuICAgICAgICAvKiogVGhlIHByb3BlcnR5IHZhbHVlLiAqL1xuICAgICAgICB2YWx1ZTogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHByb3BlcnR5IGhhcyBcIiFpbXBvcnRhbnRcIiBhbm5vdGF0aW9uIChpbXBsaWVzIDxjb2RlPmZhbHNlPC9jb2RlPiBpZiBhYnNlbnQpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGltcG9ydGFudD86IGJvb2xlYW5cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcHJvcGVydHkgaXMgaW1wbGljaXQgKGltcGxpZXMgPGNvZGU+ZmFsc2U8L2NvZGU+IGlmIGFic2VudCkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgaW1wbGljaXQ/OiBib29sZWFuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmdWxsIHByb3BlcnR5IHRleHQgYXMgc3BlY2lmaWVkIGluIHRoZSBzdHlsZS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB0ZXh0Pzogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHByb3BlcnR5IGlzIHVuZGVyc3Rvb2QgYnkgdGhlIGJyb3dzZXIgKGltcGxpZXMgPGNvZGU+dHJ1ZTwvY29kZT4gaWYgYWJzZW50KS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZWRPaz86IGJvb2xlYW5cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcHJvcGVydHkgaXMgZGlzYWJsZWQgYnkgdGhlIHVzZXIgKHByZXNlbnQgZm9yIHNvdXJjZS1iYXNlZCBwcm9wZXJ0aWVzIG9ubHkpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGRpc2FibGVkPzogYm9vbGVhblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZW50aXJlIHByb3BlcnR5IHJhbmdlIGluIHRoZSBlbmNsb3Npbmcgc3R5bGUgZGVjbGFyYXRpb24gKGlmIGF2YWlsYWJsZSkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgcmFuZ2U/OiBTb3VyY2VSYW5nZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENTUyBtZWRpYSBydWxlIGRlc2NyaXB0b3IuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIENTU01lZGlhID0ge1xuICAgICAgICAvKiogTWVkaWEgcXVlcnkgdGV4dC4gKi9cbiAgICAgICAgdGV4dDogc3RyaW5nXG5cbiAgICAgICAgLyoqIFNvdXJjZSBvZiB0aGUgbWVkaWEgcXVlcnk6IFwibWVkaWFSdWxlXCIgaWYgc3BlY2lmaWVkIGJ5IGEgQG1lZGlhIHJ1bGUsIFwiaW1wb3J0UnVsZVwiIGlmIHNwZWNpZmllZCBieSBhbiBAaW1wb3J0IHJ1bGUsIFwibGlua2VkU2hlZXRcIiBpZiBzcGVjaWZpZWQgYnkgYSBcIm1lZGlhXCIgYXR0cmlidXRlIGluIGEgbGlua2VkIHN0eWxlc2hlZXQncyBMSU5LIHRhZywgXCJpbmxpbmVTaGVldFwiIGlmIHNwZWNpZmllZCBieSBhIFwibWVkaWFcIiBhdHRyaWJ1dGUgaW4gYW4gaW5saW5lIHN0eWxlc2hlZXQncyBTVFlMRSB0YWcuICovXG4gICAgICAgIHNvdXJjZTogJ21lZGlhUnVsZScgfCAnaW1wb3J0UnVsZScgfCAnbGlua2VkU2hlZXQnIHwgJ2lubGluZVNoZWV0J1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGRvY3VtZW50IGNvbnRhaW5pbmcgdGhlIG1lZGlhIHF1ZXJ5IGRlc2NyaXB0aW9uLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZVVSTD86IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXNzb2NpYXRlZCBydWxlIChAbWVkaWEgb3IgQGltcG9ydCkgaGVhZGVyIHJhbmdlIGluIHRoZSBlbmNsb3Npbmcgc3R5bGVzaGVldCAoaWYgYXZhaWxhYmxlKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICByYW5nZT86IFNvdXJjZVJhbmdlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZW50aWZpZXIgb2YgdGhlIHN0eWxlc2hlZXQgY29udGFpbmluZyB0aGlzIG9iamVjdCAoaWYgZXhpc3RzKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzdHlsZVNoZWV0SWQ/OiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJyYXkgb2YgbWVkaWEgcXVlcmllcy5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIG1lZGlhTGlzdD86IE1lZGlhUXVlcnlbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lZGlhIHF1ZXJ5IGRlc2NyaXB0b3IuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIE1lZGlhUXVlcnkgPSB7XG4gICAgICAgIC8qKiBBcnJheSBvZiBtZWRpYSBxdWVyeSBleHByZXNzaW9ucy4gKi9cbiAgICAgICAgZXhwcmVzc2lvbnM6IE1lZGlhUXVlcnlFeHByZXNzaW9uW11cblxuICAgICAgICAvKiogV2hldGhlciB0aGUgbWVkaWEgcXVlcnkgY29uZGl0aW9uIGlzIHNhdGlzZmllZC4gKi9cbiAgICAgICAgYWN0aXZlOiBib29sZWFuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVkaWEgcXVlcnkgZXhwcmVzc2lvbiBkZXNjcmlwdG9yLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBNZWRpYVF1ZXJ5RXhwcmVzc2lvbiA9IHtcbiAgICAgICAgLyoqIE1lZGlhIHF1ZXJ5IGV4cHJlc3Npb24gdmFsdWUuICovXG4gICAgICAgIHZhbHVlOiBudW1iZXJcblxuICAgICAgICAvKiogTWVkaWEgcXVlcnkgZXhwcmVzc2lvbiB1bml0cy4gKi9cbiAgICAgICAgdW5pdDogc3RyaW5nXG5cbiAgICAgICAgLyoqIE1lZGlhIHF1ZXJ5IGV4cHJlc3Npb24gZmVhdHVyZS4gKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhc3NvY2lhdGVkIHJhbmdlIG9mIHRoZSB2YWx1ZSB0ZXh0IGluIHRoZSBlbmNsb3Npbmcgc3R5bGVzaGVldCAoaWYgYXZhaWxhYmxlKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZVJhbmdlPzogU291cmNlUmFuZ2VcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcHV0ZWQgbGVuZ3RoIG9mIG1lZGlhIHF1ZXJ5IGV4cHJlc3Npb24gKGlmIGFwcGxpY2FibGUpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGNvbXB1dGVkTGVuZ3RoPzogbnVtYmVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5mb3JtYXRpb24gYWJvdXQgYW1vdW50IG9mIGdseXBocyB0aGF0IHdlcmUgcmVuZGVyZWQgd2l0aCBnaXZlbiBmb250LlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBQbGF0Zm9ybUZvbnRVc2FnZSA9IHtcbiAgICAgICAgLyoqIEZvbnQncyBmYW1pbHkgbmFtZSByZXBvcnRlZCBieSBwbGF0Zm9ybS4gKi9cbiAgICAgICAgZmFtaWx5TmFtZTogc3RyaW5nXG5cbiAgICAgICAgLyoqIEluZGljYXRlcyBpZiB0aGUgZm9udCB3YXMgZG93bmxvYWRlZCBvciByZXNvbHZlZCBsb2NhbGx5LiAqL1xuICAgICAgICBpc0N1c3RvbUZvbnQ6IGJvb2xlYW5cblxuICAgICAgICAvKiogQW1vdW50IG9mIGdseXBocyB0aGF0IHdlcmUgcmVuZGVyZWQgd2l0aCB0aGlzIGZvbnQuICovXG4gICAgICAgIGdseXBoQ291bnQ6IG51bWJlclxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENTUyBrZXlmcmFtZXMgcnVsZSByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgQ1NTS2V5ZnJhbWVzUnVsZSA9IHtcbiAgICAgICAgLyoqIEFuaW1hdGlvbiBuYW1lLiAqL1xuICAgICAgICBhbmltYXRpb25OYW1lOiBWYWx1ZVxuXG4gICAgICAgIC8qKiBMaXN0IG9mIGtleWZyYW1lcy4gKi9cbiAgICAgICAga2V5ZnJhbWVzOiBDU1NLZXlmcmFtZVJ1bGVbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENTUyBrZXlmcmFtZSBydWxlIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBDU1NLZXlmcmFtZVJ1bGUgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3NzIHN0eWxlIHNoZWV0IGlkZW50aWZpZXIgKGFic2VudCBmb3IgdXNlciBhZ2VudCBzdHlsZXNoZWV0IGFuZCB1c2VyLXNwZWNpZmllZCBzdHlsZXNoZWV0IHJ1bGVzKSB0aGlzIHJ1bGUgY2FtZSBmcm9tLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0eWxlU2hlZXRJZD86IFN0eWxlU2hlZXRJZFxuXG4gICAgICAgIC8qKiBQYXJlbnQgc3R5bGVzaGVldCdzIG9yaWdpbi4gKi9cbiAgICAgICAgb3JpZ2luOiBTdHlsZVNoZWV0T3JpZ2luXG5cbiAgICAgICAgLyoqIEFzc29jaWF0ZWQga2V5IHRleHQuICovXG4gICAgICAgIGtleVRleHQ6IFZhbHVlXG5cbiAgICAgICAgLyoqIEFzc29jaWF0ZWQgc3R5bGUgZGVjbGFyYXRpb24uICovXG4gICAgICAgIHN0eWxlOiBDU1NTdHlsZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZGVzY3JpcHRvciBvZiBvcGVyYXRpb24gdG8gbXV0YXRlIHN0eWxlIGRlY2xhcmF0aW9uIHRleHQuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFN0eWxlRGVjbGFyYXRpb25FZGl0ID0ge1xuICAgICAgICAvKiogVGhlIGNzcyBzdHlsZSBzaGVldCBpZGVudGlmaWVyLiAqL1xuICAgICAgICBzdHlsZVNoZWV0SWQ6IFN0eWxlU2hlZXRJZFxuXG4gICAgICAgIC8qKiBUaGUgcmFuZ2Ugb2YgdGhlIHN0eWxlIHRleHQgaW4gdGhlIGVuY2xvc2luZyBzdHlsZXNoZWV0LiAqL1xuICAgICAgICByYW5nZTogU291cmNlUmFuZ2VcblxuICAgICAgICAvKiogTmV3IHN0eWxlIHRleHQuICovXG4gICAgICAgIHRleHQ6IHN0cmluZ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGFpbHMgb2YgcG9zdCBsYXlvdXQgcmVuZGVyZWQgdGV4dCBwb3NpdGlvbnMuIFRoZSBleGFjdCBsYXlvdXQgc2hvdWxkIG5vdCBiZSByZWdhcmRlZCBhcyBzdGFibGUgYW5kIG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgSW5saW5lVGV4dEJveCA9IHtcbiAgICAgICAgLyoqIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBib3VuZGluZyBib3guICovXG4gICAgICAgIGJvdW5kaW5nQm94OiBET00uUmVjdFxuXG4gICAgICAgIC8qKiBUaGUgc3RhcnRpbmcgaW5kZXggaW4gY2hhcmFjdGVycywgZm9yIHRoaXMgcG9zdCBsYXlvdXQgdGV4dGJveCBzdWJzdHJpbmcuICovXG4gICAgICAgIHN0YXJ0Q2hhcmFjdGVySW5kZXg6IG51bWJlclxuXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhpcyBwb3N0IGxheW91dCB0ZXh0Ym94IHN1YnN0cmluZy4gKi9cbiAgICAgICAgbnVtQ2hhcmFjdGVyczogbnVtYmVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0YWlscyBvZiBhbiBlbGVtZW50IGluIHRoZSBET00gdHJlZSB3aXRoIGEgTGF5b3V0T2JqZWN0LlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBMYXlvdXRUcmVlTm9kZSA9IHtcbiAgICAgICAgLyoqIFRoZSBpZCBvZiB0aGUgcmVsYXRlZCBET00gbm9kZSBtYXRjaGluZyBvbmUgZnJvbSBET00uR2V0RG9jdW1lbnQuICovXG4gICAgICAgIG5vZGVJZDogRE9NLk5vZGVJZFxuXG4gICAgICAgIC8qKiBUaGUgYWJzb2x1dGUgcG9zaXRpb24gYm91bmRpbmcgYm94LiAqL1xuICAgICAgICBib3VuZGluZ0JveDogRE9NLlJlY3RcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udGVudHMgb2YgdGhlIExheW91dFRleHQgaWYgYW55XG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0VGV4dD86IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zdCBsYXlvdXQgaW5saW5lIHRleHQgbm9kZXMsIGlmIGFueS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBpbmxpbmVUZXh0Tm9kZXM/OiBJbmxpbmVUZXh0Qm94W11cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggaW50byB0aGUgY29tcHV0ZWRTdHlsZXMgYXJyYXkgcmV0dXJuZWQgYnkgZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcy5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzdHlsZUluZGV4PzogbnVtYmVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzdWJzZXQgb2YgdGhlIGZ1bGwgQ29tcHV0ZWRTdHlsZSBhcyBkZWZpbmVkIGJ5IHRoZSByZXF1ZXN0IHdoaXRlbGlzdC5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgQ29tcHV0ZWRTdHlsZSA9IHtcbiAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgIHByb3BlcnRpZXM6IENTU0NvbXB1dGVkU3R5bGVQcm9wZXJ0eVtdXG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKioqKiBDb21tYW5kIFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgZXhwb3J0IG1vZHVsZSBQYXJhbXMge1xuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBnZXRNYXRjaGVkU3R5bGVzRm9yTm9kZSA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgbm9kZUlkOiBET00uTm9kZUlkXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBnZXRJbmxpbmVTdHlsZXNGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBub2RlSWQ6IERPTS5Ob2RlSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldENvbXB1dGVkU3R5bGVGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBub2RlSWQ6IERPTS5Ob2RlSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFBsYXRmb3JtRm9udHNGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBub2RlSWQ6IERPTS5Ob2RlSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFN0eWxlU2hlZXRUZXh0ID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBzdHlsZVNoZWV0SWQ6IFN0eWxlU2hlZXRJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgY29sbGVjdENsYXNzTmFtZXMgPSB7XG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIHN0eWxlU2hlZXRJZDogU3R5bGVTaGVldElkXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZXRTdHlsZVNoZWV0VGV4dCA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgc3R5bGVTaGVldElkOiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICB0ZXh0OiBzdHJpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldFJ1bGVTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgc3R5bGVTaGVldElkOiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICByYW5nZTogU291cmNlUmFuZ2VcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBzZWxlY3Rvcjogc3RyaW5nXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZXRLZXlmcmFtZUtleSA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgc3R5bGVTaGVldElkOiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICByYW5nZTogU291cmNlUmFuZ2VcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBrZXlUZXh0OiBzdHJpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldFN0eWxlVGV4dHMgPSB7XG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIGVkaXRzOiBTdHlsZURlY2xhcmF0aW9uRWRpdFtdXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZXRNZWRpYVRleHQgPSB7XG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIHN0eWxlU2hlZXRJZDogU3R5bGVTaGVldElkXG5cbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgcmFuZ2U6IFNvdXJjZVJhbmdlXG5cbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgdGV4dDogc3RyaW5nXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBjcmVhdGVTdHlsZVNoZWV0ID0ge1xuICAgICAgICAgICAgLyoqIElkZW50aWZpZXIgb2YgdGhlIGZyYW1lIHdoZXJlIFwidmlhLWluc3BlY3RvclwiIHN0eWxlc2hlZXQgc2hvdWxkIGJlIGNyZWF0ZWQuICovXG4gICAgICAgICAgICBmcmFtZUlkOiBQYWdlLkZyYW1lSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGFkZFJ1bGUgPSB7XG4gICAgICAgICAgICAvKiogVGhlIGNzcyBzdHlsZSBzaGVldCBpZGVudGlmaWVyIHdoZXJlIGEgbmV3IHJ1bGUgc2hvdWxkIGJlIGluc2VydGVkLiAqL1xuICAgICAgICAgICAgc3R5bGVTaGVldElkOiBTdHlsZVNoZWV0SWRcblxuICAgICAgICAgICAgLyoqIFRoZSB0ZXh0IG9mIGEgbmV3IHJ1bGUuICovXG4gICAgICAgICAgICBydWxlVGV4dDogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKiBUZXh0IHBvc2l0aW9uIG9mIGEgbmV3IHJ1bGUgaW4gdGhlIHRhcmdldCBzdHlsZSBzaGVldC4gKi9cbiAgICAgICAgICAgIGxvY2F0aW9uOiBTb3VyY2VSYW5nZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZm9yY2VQc2V1ZG9TdGF0ZSA9IHtcbiAgICAgICAgICAgIC8qKiBUaGUgZWxlbWVudCBpZCBmb3Igd2hpY2ggdG8gZm9yY2UgdGhlIHBzZXVkbyBzdGF0ZS4gKi9cbiAgICAgICAgICAgIG5vZGVJZDogRE9NLk5vZGVJZFxuXG4gICAgICAgICAgICAvKiogRWxlbWVudCBwc2V1ZG8gY2xhc3NlcyB0byBmb3JjZSB3aGVuIGNvbXB1dGluZyB0aGUgZWxlbWVudCdzIHN0eWxlLiAqL1xuICAgICAgICAgICAgZm9yY2VkUHNldWRvQ2xhc3Nlczogc3RyaW5nW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEVmZmVjdGl2ZVByb3BlcnR5VmFsdWVGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIFRoZSBlbGVtZW50IGlkIGZvciB3aGljaCB0byBzZXQgcHJvcGVydHkuICovXG4gICAgICAgICAgICBub2RlSWQ6IERPTS5Ob2RlSWRcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZ1xuXG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldEJhY2tncm91bmRDb2xvcnMgPSB7XG4gICAgICAgICAgICAvKiogSWQgb2YgdGhlIG5vZGUgdG8gZ2V0IGJhY2tncm91bmQgY29sb3JzIGZvci4gKi9cbiAgICAgICAgICAgIG5vZGVJZDogRE9NLk5vZGVJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcyA9IHtcbiAgICAgICAgICAgIC8qKiBXaGl0ZWxpc3Qgb2YgY29tcHV0ZWQgc3R5bGVzIHRvIHJldHVybi4gKi9cbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVXaGl0ZWxpc3Q6IHN0cmluZ1tdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqKiogQ29tbWFuZCBSZXN1bHQgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBleHBvcnQgbW9kdWxlIFJlc3VsdCB7XG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldE1hdGNoZWRTdHlsZXNGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbmxpbmUgc3R5bGUgZm9yIHRoZSBzcGVjaWZpZWQgRE9NIG5vZGUuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5saW5lU3R5bGU/OiBDU1NTdHlsZVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF0dHJpYnV0ZS1kZWZpbmVkIGVsZW1lbnQgc3R5bGUgKGUuZy4gcmVzdWx0aW5nIGZyb20gXCJ3aWR0aD0yMCBoZWlnaHQ9MTAwJVwiKS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhdHRyaWJ1dGVzU3R5bGU/OiBDU1NTdHlsZVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENTUyBydWxlcyBtYXRjaGluZyB0aGlzIG5vZGUsIGZyb20gYWxsIGFwcGxpY2FibGUgc3R5bGVzaGVldHMuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWF0Y2hlZENTU1J1bGVzPzogUnVsZU1hdGNoW11cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQc2V1ZG8gc3R5bGUgbWF0Y2hlcyBmb3IgdGhpcyBub2RlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHBzZXVkb0VsZW1lbnRzPzogUHNldWRvRWxlbWVudE1hdGNoZXNbXVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgY2hhaW4gb2YgaW5oZXJpdGVkIHN0eWxlcyAoZnJvbSB0aGUgaW1tZWRpYXRlIG5vZGUgcGFyZW50IHVwIHRvIHRoZSBET00gdHJlZSByb290KS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbmhlcml0ZWQ/OiBJbmhlcml0ZWRTdHlsZUVudHJ5W11cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBIGxpc3Qgb2YgQ1NTIGtleWZyYW1lZCBhbmltYXRpb25zIG1hdGNoaW5nIHRoaXMgbm9kZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjc3NLZXlmcmFtZXNSdWxlcz86IENTU0tleWZyYW1lc1J1bGVbXVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0SW5saW5lU3R5bGVzRm9yTm9kZSA9IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5saW5lIHN0eWxlIGZvciB0aGUgc3BlY2lmaWVkIERPTSBub2RlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlubGluZVN0eWxlPzogQ1NTU3R5bGVcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRyaWJ1dGUtZGVmaW5lZCBlbGVtZW50IHN0eWxlIChlLmcuIHJlc3VsdGluZyBmcm9tIFwid2lkdGg9MjAgaGVpZ2h0PTEwMCVcIikuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXR0cmlidXRlc1N0eWxlPzogQ1NTU3R5bGVcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldENvbXB1dGVkU3R5bGVGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIENvbXB1dGVkIHN0eWxlIGZvciB0aGUgc3BlY2lmaWVkIERPTSBub2RlLiAqL1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZTogQ1NTQ29tcHV0ZWRTdHlsZVByb3BlcnR5W11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFBsYXRmb3JtRm9udHNGb3JOb2RlID0ge1xuICAgICAgICAgICAgLyoqIFVzYWdlIHN0YXRpc3RpY3MgZm9yIGV2ZXJ5IGVtcGxveWVkIHBsYXRmb3JtIGZvbnQuICovXG4gICAgICAgICAgICBmb250czogUGxhdGZvcm1Gb250VXNhZ2VbXVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0U3R5bGVTaGVldFRleHQgPSB7XG4gICAgICAgICAgICAvKiogVGhlIHN0eWxlc2hlZXQgdGV4dC4gKi9cbiAgICAgICAgICAgIHRleHQ6IHN0cmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgY29sbGVjdENsYXNzTmFtZXMgPSB7XG4gICAgICAgICAgICAvKiogQ2xhc3MgbmFtZSBsaXN0LiAqL1xuICAgICAgICAgICAgY2xhc3NOYW1lczogc3RyaW5nW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldFN0eWxlU2hlZXRUZXh0ID0ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVUkwgb2Ygc291cmNlIG1hcCBhc3NvY2lhdGVkIHdpdGggc2NyaXB0IChpZiBhbnkpLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNvdXJjZU1hcFVSTD86IHN0cmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0UnVsZVNlbGVjdG9yID0ge1xuICAgICAgICAgICAgLyoqIFRoZSByZXN1bHRpbmcgc2VsZWN0b3IgbGlzdCBhZnRlciBtb2RpZmljYXRpb24uICovXG4gICAgICAgICAgICBzZWxlY3Rvckxpc3Q6IFNlbGVjdG9yTGlzdFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0S2V5ZnJhbWVLZXkgPSB7XG4gICAgICAgICAgICAvKiogVGhlIHJlc3VsdGluZyBrZXkgdGV4dCBhZnRlciBtb2RpZmljYXRpb24uICovXG4gICAgICAgICAgICBrZXlUZXh0OiBWYWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0U3R5bGVUZXh0cyA9IHtcbiAgICAgICAgICAgIC8qKiBUaGUgcmVzdWx0aW5nIHN0eWxlcyBhZnRlciBtb2RpZmljYXRpb24uICovXG4gICAgICAgICAgICBzdHlsZXM6IENTU1N0eWxlW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldE1lZGlhVGV4dCA9IHtcbiAgICAgICAgICAgIC8qKiBUaGUgcmVzdWx0aW5nIENTUyBtZWRpYSBydWxlIGFmdGVyIG1vZGlmaWNhdGlvbi4gKi9cbiAgICAgICAgICAgIG1lZGlhOiBDU1NNZWRpYVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgY3JlYXRlU3R5bGVTaGVldCA9IHtcbiAgICAgICAgICAgIC8qKiBJZGVudGlmaWVyIG9mIHRoZSBjcmVhdGVkIFwidmlhLWluc3BlY3RvclwiIHN0eWxlc2hlZXQuICovXG4gICAgICAgICAgICBzdHlsZVNoZWV0SWQ6IFN0eWxlU2hlZXRJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgYWRkUnVsZSA9IHtcbiAgICAgICAgICAgIC8qKiBUaGUgbmV3bHkgY3JlYXRlZCBydWxlLiAqL1xuICAgICAgICAgICAgcnVsZTogQ1NTUnVsZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0TWVkaWFRdWVyaWVzID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBtZWRpYXM6IENTU01lZGlhW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldEJhY2tncm91bmRDb2xvcnMgPSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSByYW5nZSBvZiBiYWNrZ3JvdW5kIGNvbG9ycyBiZWhpbmQgdGhpcyBlbGVtZW50LCBpZiBpdCBjb250YWlucyBhbnkgdmlzaWJsZSB0ZXh0LiBJZiBubyB2aXNpYmxlIHRleHQgaXMgcHJlc2VudCwgdGhpcyB3aWxsIGJlIHVuZGVmaW5lZC4gSW4gdGhlIGNhc2Ugb2YgYSBmbGF0IGJhY2tncm91bmQgY29sb3IsIHRoaXMgd2lsbCBjb25zaXN0IG9mIHNpbXBseSB0aGF0IGNvbG9yLiBJbiB0aGUgY2FzZSBvZiBhIGdyYWRpZW50LCB0aGlzIHdpbGwgY29uc2lzdCBvZiBlYWNoIG9mIHRoZSBjb2xvciBzdG9wcy4gRm9yIGFueXRoaW5nIG1vcmUgY29tcGxpY2F0ZWQsIHRoaXMgd2lsbCBiZSBhbiBlbXB0eSBhcnJheS4gSW1hZ2VzIHdpbGwgYmUgaWdub3JlZCAoYXMgaWYgdGhlIGltYWdlIGhhZCBmYWlsZWQgdG8gbG9hZCkuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9ycz86IHN0cmluZ1tdXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBnZXRMYXlvdXRUcmVlQW5kU3R5bGVzID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBsYXlvdXRUcmVlTm9kZXM6IExheW91dFRyZWVOb2RlW11cblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlczogQ29tcHV0ZWRTdHlsZVtdXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSB0YWtlQ292ZXJhZ2VEZWx0YSA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgY292ZXJhZ2U6IFJ1bGVVc2FnZVtdXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzdG9wUnVsZVVzYWdlVHJhY2tpbmcgPSB7XG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIHJ1bGVVc2FnZTogUnVsZVVzYWdlW11cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIEV2ZW50IFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBtb2R1bGUgRXZlbnRQYXJhbXMge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbmV2ZXIgYSBzdHlsZXNoZWV0IGlzIGNoYW5nZWQgYXMgYSByZXN1bHQgb2YgdGhlIGNsaWVudCBvcGVyYXRpb24uXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHN0eWxlU2hlZXRDaGFuZ2VkID0ge1xuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBzdHlsZVNoZWV0SWQ6IFN0eWxlU2hlZXRJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW5ldmVyIGFuIGFjdGl2ZSBkb2N1bWVudCBzdHlsZXNoZWV0IGlzIGFkZGVkLlxuICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzdHlsZVNoZWV0QWRkZWQgPSB7XG4gICAgICAgICAgICAvKiogQWRkZWQgc3R5bGVzaGVldCBtZXRhaW5mby4gKi9cbiAgICAgICAgICAgIGhlYWRlcjogQ1NTU3R5bGVTaGVldEhlYWRlclxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW5ldmVyIGFuIGFjdGl2ZSBkb2N1bWVudCBzdHlsZXNoZWV0IGlzIHJlbW92ZWQuXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHN0eWxlU2hlZXRSZW1vdmVkID0ge1xuICAgICAgICAgICAgLyoqIElkZW50aWZpZXIgb2YgdGhlIHJlbW92ZWQgc3R5bGVzaGVldC4gKi9cbiAgICAgICAgICAgIHN0eWxlU2hlZXRJZDogU3R5bGVTaGVldElkXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBkb21haW4gZXhwb3NlcyBDU1MgcmVhZC93cml0ZSBvcGVyYXRpb25zLiBBbGwgQ1NTIG9iamVjdHMgKHN0eWxlc2hlZXRzLCBydWxlcywgYW5kIHN0eWxlcykgaGF2ZSBhbiBhc3NvY2lhdGVkIDxjb2RlPmlkPC9jb2RlPiB1c2VkIGluIHN1YnNlcXVlbnQgb3BlcmF0aW9ucyBvbiB0aGUgcmVsYXRlZCBvYmplY3QuIEVhY2ggb2JqZWN0IHR5cGUgaGFzIGEgc3BlY2lmaWMgPGNvZGU+aWQ8L2NvZGU+IHN0cnVjdHVyZSwgYW5kIHRob3NlIGFyZSBub3QgaW50ZXJjaGFuZ2VhYmxlIGJldHdlZW4gb2JqZWN0cyBvZiBkaWZmZXJlbnQga2luZHMuIENTUyBvYmplY3RzIGNhbiBiZSBsb2FkZWQgdXNpbmcgdGhlIDxjb2RlPmdldCpGb3JOb2RlKCk8L2NvZGU+IGNhbGxzICh3aGljaCBhY2NlcHQgYSBET00gbm9kZSBpZCkuIEEgY2xpZW50IGNhbiBhbHNvIGRpc2NvdmVyIGFsbCB0aGUgZXhpc3Rpbmcgc3R5bGVzaGVldHMgd2l0aCB0aGUgPGNvZGU+Z2V0QWxsU3R5bGVTaGVldHMoKTwvY29kZT4gbWV0aG9kIChvciBrZWVwaW5nIHRyYWNrIG9mIHRoZSA8Y29kZT5zdHlsZVNoZWV0QWRkZWQ8L2NvZGU+Lzxjb2RlPnN0eWxlU2hlZXRSZW1vdmVkPC9jb2RlPiBldmVudHMpIGFuZCBzdWJzZXF1ZW50bHkgbG9hZCB0aGUgcmVxdWlyZWQgc3R5bGVzaGVldCBjb250ZW50cyB1c2luZyB0aGUgPGNvZGU+Z2V0U3R5bGVTaGVldFtUZXh0XSgpPC9jb2RlPiBtZXRob2RzLlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5jbGFzcyBDU1Mge1xuICAgIHByaXZhdGUgZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGRiZzogYW55IC8qIEVsZWN0cm9uLkRlYnVnZ2VyKi8gKSB7XG5cbiAgICAgICAgdGhpcy5kYmcub24oJ21lc3NhZ2UnLCAoZXZlbnQ6IGFueSwgbWV0aG9kOiBhbnksIHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbZG9tYWluLCBkb21haW5NZXRob2RdID0gbWV0aG9kLnNwbGl0KCcuJylcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoZG9tYWluTWV0aG9kLCBwYXJhbXMpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCF0aGlzLmRiZy5pc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBDU1MgRG9tYWluIENsYXNzIGJlY2F1c2UgdGhlIGRlYnVnZ2VyIGlzIG5vdCBhdHRhY2hlZC5gKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgbGlzdGVuZXIpXG4gICAgfVxuXG4gICAgcHVibGljIG9uY2UoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBsaXN0ZW5lcilcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzc2VydEVycm9yKGVycm9yOiBhbnksIGNvbW1hbmROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiAnY29kZScgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWJ1Z2dlckVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLmNvZGUsIGNvbW1hbmROYW1lKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEVuYWJsZXMgdGhlIENTUyBhZ2VudCBmb3IgdGhlIGdpdmVuIHBhZ2UuIENsaWVudHMgc2hvdWxkIG5vdCBhc3N1bWUgdGhhdCB0aGUgQ1NTIGFnZW50IGhhcyBiZWVuIGVuYWJsZWQgdW50aWwgdGhlIHJlc3VsdCBvZiB0aGlzIGNvbW1hbmQgaXMgcmVjZWl2ZWQuICovXG4gICAgcHVibGljIGFzeW5jIGVuYWJsZSgpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuZW5hYmxlJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdDU1MuZW5hYmxlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIERpc2FibGVzIHRoZSBDU1MgYWdlbnQgZm9yIHRoZSBnaXZlbiBwYWdlLiAqL1xuICAgIHB1YmxpYyBhc3luYyBkaXNhYmxlKCk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5kaXNhYmxlJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdDU1MuZGlzYWJsZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIHJlcXVlc3RlZCBzdHlsZXMgZm9yIGEgRE9NIG5vZGUgaWRlbnRpZmllZCBieSA8Y29kZT5ub2RlSWQ8L2NvZGU+LiAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRNYXRjaGVkU3R5bGVzRm9yTm9kZShwYXJhbXM6IENTUy5QYXJhbXMuZ2V0TWF0Y2hlZFN0eWxlc0Zvck5vZGUpOiBQcm9taXNlPENTUy5SZXN1bHQuZ2V0TWF0Y2hlZFN0eWxlc0Zvck5vZGU+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8Q1NTLlJlc3VsdC5nZXRNYXRjaGVkU3R5bGVzRm9yTm9kZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5nZXRNYXRjaGVkU3R5bGVzRm9yTm9kZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5nZXRNYXRjaGVkU3R5bGVzRm9yTm9kZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQ1NTLlJlc3VsdC5nZXRNYXRjaGVkU3R5bGVzRm9yTm9kZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdGhlIHN0eWxlcyBkZWZpbmVkIGlubGluZSAoZXhwbGljaXRseSBpbiB0aGUgXCJzdHlsZVwiIGF0dHJpYnV0ZSBhbmQgaW1wbGljaXRseSwgdXNpbmcgRE9NIGF0dHJpYnV0ZXMpIGZvciBhIERPTSBub2RlIGlkZW50aWZpZWQgYnkgPGNvZGU+bm9kZUlkPC9jb2RlPi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0SW5saW5lU3R5bGVzRm9yTm9kZShwYXJhbXM6IENTUy5QYXJhbXMuZ2V0SW5saW5lU3R5bGVzRm9yTm9kZSk6IFByb21pc2U8Q1NTLlJlc3VsdC5nZXRJbmxpbmVTdHlsZXNGb3JOb2RlPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuZ2V0SW5saW5lU3R5bGVzRm9yTm9kZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5nZXRJbmxpbmVTdHlsZXNGb3JOb2RlJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLmdldElubGluZVN0eWxlc0Zvck5vZGUnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuZ2V0SW5saW5lU3R5bGVzRm9yTm9kZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBhIERPTSBub2RlIGlkZW50aWZpZWQgYnkgPGNvZGU+bm9kZUlkPC9jb2RlPi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0Q29tcHV0ZWRTdHlsZUZvck5vZGUocGFyYW1zOiBDU1MuUGFyYW1zLmdldENvbXB1dGVkU3R5bGVGb3JOb2RlKTogUHJvbWlzZTxDU1MuUmVzdWx0LmdldENvbXB1dGVkU3R5bGVGb3JOb2RlPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuZ2V0Q29tcHV0ZWRTdHlsZUZvck5vZGU+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuZ2V0Q29tcHV0ZWRTdHlsZUZvck5vZGUnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdDU1MuZ2V0Q29tcHV0ZWRTdHlsZUZvck5vZGUnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuZ2V0Q29tcHV0ZWRTdHlsZUZvck5vZGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGluZm9ybWF0aW9uIGFib3V0IHBsYXRmb3JtIGZvbnRzIHdoaWNoIHdlIHVzZWQgdG8gcmVuZGVyIGNoaWxkIFRleHROb2RlcyBpbiB0aGUgZ2l2ZW4gbm9kZS5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldFBsYXRmb3JtRm9udHNGb3JOb2RlKHBhcmFtczogQ1NTLlBhcmFtcy5nZXRQbGF0Zm9ybUZvbnRzRm9yTm9kZSk6IFByb21pc2U8Q1NTLlJlc3VsdC5nZXRQbGF0Zm9ybUZvbnRzRm9yTm9kZT57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LmdldFBsYXRmb3JtRm9udHNGb3JOb2RlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnQ1NTLmdldFBsYXRmb3JtRm9udHNGb3JOb2RlJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLmdldFBsYXRmb3JtRm9udHNGb3JOb2RlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBDU1MuUmVzdWx0LmdldFBsYXRmb3JtRm9udHNGb3JOb2RlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgY3VycmVudCB0ZXh0dWFsIGNvbnRlbnQgYW5kIHRoZSBVUkwgZm9yIGEgc3R5bGVzaGVldC4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3R5bGVTaGVldFRleHQocGFyYW1zOiBDU1MuUGFyYW1zLmdldFN0eWxlU2hlZXRUZXh0KTogUHJvbWlzZTxDU1MuUmVzdWx0LmdldFN0eWxlU2hlZXRUZXh0PntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuZ2V0U3R5bGVTaGVldFRleHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuZ2V0U3R5bGVTaGVldFRleHQnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdDU1MuZ2V0U3R5bGVTaGVldFRleHQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuZ2V0U3R5bGVTaGVldFRleHQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGNsYXNzIG5hbWVzIGZyb20gc3BlY2lmaWVkIHN0eWxlc2hlZXQuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBjb2xsZWN0Q2xhc3NOYW1lcyhwYXJhbXM6IENTUy5QYXJhbXMuY29sbGVjdENsYXNzTmFtZXMpOiBQcm9taXNlPENTUy5SZXN1bHQuY29sbGVjdENsYXNzTmFtZXM+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8Q1NTLlJlc3VsdC5jb2xsZWN0Q2xhc3NOYW1lcz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5jb2xsZWN0Q2xhc3NOYW1lcycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5jb2xsZWN0Q2xhc3NOYW1lcycpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQ1NTLlJlc3VsdC5jb2xsZWN0Q2xhc3NOYW1lcylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFNldHMgdGhlIG5ldyBzdHlsZXNoZWV0IHRleHQuICovXG4gICAgcHVibGljIGFzeW5jIHNldFN0eWxlU2hlZXRUZXh0KHBhcmFtczogQ1NTLlBhcmFtcy5zZXRTdHlsZVNoZWV0VGV4dCk6IFByb21pc2U8Q1NTLlJlc3VsdC5zZXRTdHlsZVNoZWV0VGV4dD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LnNldFN0eWxlU2hlZXRUZXh0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnQ1NTLnNldFN0eWxlU2hlZXRUZXh0JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLnNldFN0eWxlU2hlZXRUZXh0JylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBDU1MuUmVzdWx0LnNldFN0eWxlU2hlZXRUZXh0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogTW9kaWZpZXMgdGhlIHJ1bGUgc2VsZWN0b3IuICovXG4gICAgcHVibGljIGFzeW5jIHNldFJ1bGVTZWxlY3RvcihwYXJhbXM6IENTUy5QYXJhbXMuc2V0UnVsZVNlbGVjdG9yKTogUHJvbWlzZTxDU1MuUmVzdWx0LnNldFJ1bGVTZWxlY3Rvcj57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LnNldFJ1bGVTZWxlY3Rvcj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5zZXRSdWxlU2VsZWN0b3InLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdDU1Muc2V0UnVsZVNlbGVjdG9yJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBDU1MuUmVzdWx0LnNldFJ1bGVTZWxlY3RvcilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIE1vZGlmaWVzIHRoZSBrZXlmcmFtZSBydWxlIGtleSB0ZXh0LiAqL1xuICAgIHB1YmxpYyBhc3luYyBzZXRLZXlmcmFtZUtleShwYXJhbXM6IENTUy5QYXJhbXMuc2V0S2V5ZnJhbWVLZXkpOiBQcm9taXNlPENTUy5SZXN1bHQuc2V0S2V5ZnJhbWVLZXk+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8Q1NTLlJlc3VsdC5zZXRLZXlmcmFtZUtleT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5zZXRLZXlmcmFtZUtleScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5zZXRLZXlmcmFtZUtleScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQ1NTLlJlc3VsdC5zZXRLZXlmcmFtZUtleSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIEFwcGxpZXMgc3BlY2lmaWVkIHN0eWxlIGVkaXRzIG9uZSBhZnRlciBhbm90aGVyIGluIHRoZSBnaXZlbiBvcmRlci4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0U3R5bGVUZXh0cyhwYXJhbXM6IENTUy5QYXJhbXMuc2V0U3R5bGVUZXh0cyk6IFByb21pc2U8Q1NTLlJlc3VsdC5zZXRTdHlsZVRleHRzPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuc2V0U3R5bGVUZXh0cz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5zZXRTdHlsZVRleHRzJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLnNldFN0eWxlVGV4dHMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuc2V0U3R5bGVUZXh0cylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIE1vZGlmaWVzIHRoZSBydWxlIHNlbGVjdG9yLiAqL1xuICAgIHB1YmxpYyBhc3luYyBzZXRNZWRpYVRleHQocGFyYW1zOiBDU1MuUGFyYW1zLnNldE1lZGlhVGV4dCk6IFByb21pc2U8Q1NTLlJlc3VsdC5zZXRNZWRpYVRleHQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8Q1NTLlJlc3VsdC5zZXRNZWRpYVRleHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1Muc2V0TWVkaWFUZXh0JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLnNldE1lZGlhVGV4dCcpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQ1NTLlJlc3VsdC5zZXRNZWRpYVRleHQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHNwZWNpYWwgXCJ2aWEtaW5zcGVjdG9yXCIgc3R5bGVzaGVldCBpbiB0aGUgZnJhbWUgd2l0aCBnaXZlbiA8Y29kZT5mcmFtZUlkPC9jb2RlPi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlU3R5bGVTaGVldChwYXJhbXM6IENTUy5QYXJhbXMuY3JlYXRlU3R5bGVTaGVldCk6IFByb21pc2U8Q1NTLlJlc3VsdC5jcmVhdGVTdHlsZVNoZWV0PntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuY3JlYXRlU3R5bGVTaGVldD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5jcmVhdGVTdHlsZVNoZWV0JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLmNyZWF0ZVN0eWxlU2hlZXQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuY3JlYXRlU3R5bGVTaGVldClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIEluc2VydHMgYSBuZXcgcnVsZSB3aXRoIHRoZSBnaXZlbiA8Y29kZT5ydWxlVGV4dDwvY29kZT4gaW4gYSBzdHlsZXNoZWV0IHdpdGggZ2l2ZW4gPGNvZGU+c3R5bGVTaGVldElkPC9jb2RlPiwgYXQgdGhlIHBvc2l0aW9uIHNwZWNpZmllZCBieSA8Y29kZT5sb2NhdGlvbjwvY29kZT4uICovXG4gICAgcHVibGljIGFzeW5jIGFkZFJ1bGUocGFyYW1zOiBDU1MuUGFyYW1zLmFkZFJ1bGUpOiBQcm9taXNlPENTUy5SZXN1bHQuYWRkUnVsZT57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LmFkZFJ1bGU+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuYWRkUnVsZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5hZGRSdWxlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBDU1MuUmVzdWx0LmFkZFJ1bGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBFbnN1cmVzIHRoYXQgdGhlIGdpdmVuIG5vZGUgd2lsbCBoYXZlIHNwZWNpZmllZCBwc2V1ZG8tY2xhc3NlcyB3aGVuZXZlciBpdHMgc3R5bGUgaXMgY29tcHV0ZWQgYnkgdGhlIGJyb3dzZXIuICovXG4gICAgcHVibGljIGFzeW5jIGZvcmNlUHNldWRvU3RhdGUocGFyYW1zOiBDU1MuUGFyYW1zLmZvcmNlUHNldWRvU3RhdGUpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuZm9yY2VQc2V1ZG9TdGF0ZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5mb3JjZVBzZXVkb1N0YXRlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgbWVkaWEgcXVlcmllcyBwYXJzZWQgYnkgdGhlIHJlbmRlcmluZyBlbmdpbmUuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRNZWRpYVF1ZXJpZXMoKTogUHJvbWlzZTxDU1MuUmVzdWx0LmdldE1lZGlhUXVlcmllcz57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LmdldE1lZGlhUXVlcmllcz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5nZXRNZWRpYVF1ZXJpZXMnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5nZXRNZWRpYVF1ZXJpZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuZ2V0TWVkaWFRdWVyaWVzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgcnVsZSB3aXRoIHRoZSBnaXZlbiBhY3RpdmUgcHJvcGVydHkgZm9yIHRoZSBnaXZlbiBub2RlIGFuZCBzZXQgdGhlIG5ldyB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eVxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0RWZmZWN0aXZlUHJvcGVydHlWYWx1ZUZvck5vZGUocGFyYW1zOiBDU1MuUGFyYW1zLnNldEVmZmVjdGl2ZVByb3BlcnR5VmFsdWVGb3JOb2RlKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnQ1NTLnNldEVmZmVjdGl2ZVByb3BlcnR5VmFsdWVGb3JOb2RlJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLnNldEVmZmVjdGl2ZVByb3BlcnR5VmFsdWVGb3JOb2RlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm8gZGVzY3JpcHRpb25cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldEJhY2tncm91bmRDb2xvcnMocGFyYW1zOiBDU1MuUGFyYW1zLmdldEJhY2tncm91bmRDb2xvcnMpOiBQcm9taXNlPENTUy5SZXN1bHQuZ2V0QmFja2dyb3VuZENvbG9ycz57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LmdldEJhY2tncm91bmRDb2xvcnM+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MuZ2V0QmFja2dyb3VuZENvbG9ycycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5nZXRCYWNrZ3JvdW5kQ29sb3JzJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBDU1MuUmVzdWx0LmdldEJhY2tncm91bmRDb2xvcnMpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciB0aGUgbWFpbiBkb2N1bWVudCBhbmQgYW55IGNvbnRlbnQgZG9jdW1lbnRzLCByZXR1cm4gdGhlIExheW91dFRyZWVOb2RlcyBhbmQgYSB3aGl0ZWxpc3RlZCBzdWJzZXQgb2YgdGhlIGNvbXB1dGVkIHN0eWxlLiBJdCBvbmx5IHJldHVybnMgcHVzaGVkIG5vZGVzLCBvbiB3YXkgdG8gcHVsbCBhbGwgbm9kZXMgaXMgdG8gY2FsbCBET00uZ2V0RG9jdW1lbnQgd2l0aCBhIGRlcHRoIG9mIC0xLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcyhwYXJhbXM6IENTUy5QYXJhbXMuZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcyk6IFByb21pc2U8Q1NTLlJlc3VsdC5nZXRMYXlvdXRUcmVlQW5kU3R5bGVzPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQuZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5nZXRMYXlvdXRUcmVlQW5kU3R5bGVzJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLmdldExheW91dFRyZWVBbmRTdHlsZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuZ2V0TGF5b3V0VHJlZUFuZFN0eWxlcylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgc2VsZWN0b3IgcmVjb3JkaW5nLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc3RhcnRSdWxlVXNhZ2VUcmFja2luZygpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1Muc3RhcnRSdWxlVXNhZ2VUcmFja2luZycsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQ1NTLnN0YXJ0UnVsZVVzYWdlVHJhY2tpbmcnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnRhaW4gbGlzdCBvZiBydWxlcyB0aGF0IGJlY2FtZSB1c2VkIHNpbmNlIGxhc3QgY2FsbCB0byB0aGlzIG1ldGhvZCAob3Igc2luY2Ugc3RhcnQgb2YgY292ZXJhZ2UgaW5zdHJ1bWVudGF0aW9uKVxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgdGFrZUNvdmVyYWdlRGVsdGEoKTogUHJvbWlzZTxDU1MuUmVzdWx0LnRha2VDb3ZlcmFnZURlbHRhPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPENTUy5SZXN1bHQudGFrZUNvdmVyYWdlRGVsdGE+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdDU1MudGFrZUNvdmVyYWdlRGVsdGEnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy50YWtlQ292ZXJhZ2VEZWx0YScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQ1NTLlJlc3VsdC50YWtlQ292ZXJhZ2VEZWx0YSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxpc3Qgb2YgcnVsZXMgd2l0aCBhbiBpbmRpY2F0aW9uIG9mIHdoZXRoZXIgdGhlc2Ugd2VyZSB1c2VkXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBzdG9wUnVsZVVzYWdlVHJhY2tpbmcoKTogUHJvbWlzZTxDU1MuUmVzdWx0LnN0b3BSdWxlVXNhZ2VUcmFja2luZz57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxDU1MuUmVzdWx0LnN0b3BSdWxlVXNhZ2VUcmFja2luZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0NTUy5zdG9wUnVsZVVzYWdlVHJhY2tpbmcnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0NTUy5zdG9wUnVsZVVzYWdlVHJhY2tpbmcnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIENTUy5SZXN1bHQuc3RvcFJ1bGVVc2FnZVRyYWNraW5nKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ1NTIl19