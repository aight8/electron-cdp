"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const EventEmitter = require("events");
const DebuggerError_1 = require("./DebuggerError");
/**
 * Debugger domain exposes JavaScript debugging capabilities. It allows setting and removing breakpoints, stepping through execution, exploring stack traces, etc.
 */
class Debugger {
    constructor(dbg /* Electron.Debugger*/) {
        this.dbg = dbg; /* Electron.Debugger*/
        this.events = new EventEmitter();
        this.dbg.on('message', (event, method, params) => {
            const [domain, domainMethod] = method.split('.');
            this.events.emit(domainMethod, params);
        });
        if (!this.dbg.isAttached()) {
            throw new Error(`Cannot create Debugger Domain Class because the debugger is not attached.`);
        }
    }
    on(event, listener) {
        this.events.on(event, listener);
    }
    once(event, listener) {
        this.events.on(event, listener);
    }
    assertError(error, commandName) {
        if ('message' in error && 'code' in error) {
            throw new DebuggerError_1.default(error.message, error.code, commandName);
        }
    }
    /** Enables debugger for the given page. Clients should not assume that the debugging has been enabled until the result for this command is received. */
    async enable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.enable', {}, (error, result) => {
                this.assertError(error, 'Debugger.enable');
                resolve();
            });
        });
    }
    /** Disables debugger for given page. */
    async disable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.disable', {}, (error, result) => {
                this.assertError(error, 'Debugger.disable');
                resolve();
            });
        });
    }
    /** Activates / deactivates all breakpoints on the page. */
    async setBreakpointsActive(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setBreakpointsActive', params, (error, result) => {
                this.assertError(error, 'Debugger.setBreakpointsActive');
                resolve();
            });
        });
    }
    /** Makes page not interrupt on any pauses (breakpoint, exception, dom exception etc). */
    async setSkipAllPauses(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setSkipAllPauses', params, (error, result) => {
                this.assertError(error, 'Debugger.setSkipAllPauses');
                resolve();
            });
        });
    }
    /** Sets JavaScript breakpoint at given location specified either by URL or URL regex. Once this command is issued, all existing parsed scripts will have breakpoints resolved and returned in <code>locations</code> property. Further matching script parsing will result in subsequent <code>breakpointResolved</code> events issued. This logical breakpoint will survive page reloads. */
    async setBreakpointByUrl(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setBreakpointByUrl', params, (error, result) => {
                this.assertError(error, 'Debugger.setBreakpointByUrl');
                resolve(result);
            });
        });
    }
    /** Sets JavaScript breakpoint at a given location. */
    async setBreakpoint(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setBreakpoint', params, (error, result) => {
                this.assertError(error, 'Debugger.setBreakpoint');
                resolve(result);
            });
        });
    }
    /** Removes JavaScript breakpoint. */
    async removeBreakpoint(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.removeBreakpoint', params, (error, result) => {
                this.assertError(error, 'Debugger.removeBreakpoint');
                resolve();
            });
        });
    }
    /**
     * Returns possible locations for breakpoint. scriptId in start and end range locations should be the same.
     * @experimental
     */
    async getPossibleBreakpoints(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.getPossibleBreakpoints', params, (error, result) => {
                this.assertError(error, 'Debugger.getPossibleBreakpoints');
                resolve(result);
            });
        });
    }
    /** Continues execution until specific location is reached. */
    async continueToLocation(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.continueToLocation', params, (error, result) => {
                this.assertError(error, 'Debugger.continueToLocation');
                resolve();
            });
        });
    }
    /** Steps over the statement. */
    async stepOver() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.stepOver', {}, (error, result) => {
                this.assertError(error, 'Debugger.stepOver');
                resolve();
            });
        });
    }
    /** Steps into the function call. */
    async stepInto() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.stepInto', {}, (error, result) => {
                this.assertError(error, 'Debugger.stepInto');
                resolve();
            });
        });
    }
    /** Steps out of the function call. */
    async stepOut() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.stepOut', {}, (error, result) => {
                this.assertError(error, 'Debugger.stepOut');
                resolve();
            });
        });
    }
    /** Stops on the next JavaScript statement. */
    async pause() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.pause', {}, (error, result) => {
                this.assertError(error, 'Debugger.pause');
                resolve();
            });
        });
    }
    /**
     * Steps into next scheduled async task if any is scheduled before next pause. Returns success when async task is actually scheduled, returns error if no task were scheduled or another scheduleStepIntoAsync was called.
     * @experimental
     */
    async scheduleStepIntoAsync() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.scheduleStepIntoAsync', {}, (error, result) => {
                this.assertError(error, 'Debugger.scheduleStepIntoAsync');
                resolve();
            });
        });
    }
    /** Resumes JavaScript execution. */
    async resume() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.resume', {}, (error, result) => {
                this.assertError(error, 'Debugger.resume');
                resolve();
            });
        });
    }
    /**
     * Searches for given string in script content.
     * @experimental
     */
    async searchInContent(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.searchInContent', params, (error, result) => {
                this.assertError(error, 'Debugger.searchInContent');
                resolve(result);
            });
        });
    }
    /** Edits JavaScript source live. */
    async setScriptSource(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setScriptSource', params, (error, result) => {
                this.assertError(error, 'Debugger.setScriptSource');
                resolve(result);
            });
        });
    }
    /** Restarts particular call frame from the beginning. */
    async restartFrame(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.restartFrame', params, (error, result) => {
                this.assertError(error, 'Debugger.restartFrame');
                resolve(result);
            });
        });
    }
    /** Returns source for the script with given id. */
    async getScriptSource(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.getScriptSource', params, (error, result) => {
                this.assertError(error, 'Debugger.getScriptSource');
                resolve(result);
            });
        });
    }
    /** Defines pause on exceptions state. Can be set to stop on all exceptions, uncaught exceptions or no exceptions. Initial pause on exceptions state is <code>none</code>. */
    async setPauseOnExceptions(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setPauseOnExceptions', params, (error, result) => {
                this.assertError(error, 'Debugger.setPauseOnExceptions');
                resolve();
            });
        });
    }
    /** Evaluates expression on a given call frame. */
    async evaluateOnCallFrame(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.evaluateOnCallFrame', params, (error, result) => {
                this.assertError(error, 'Debugger.evaluateOnCallFrame');
                resolve(result);
            });
        });
    }
    /** Changes value of variable in a callframe. Object-based scopes are not supported and must be mutated manually. */
    async setVariableValue(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setVariableValue', params, (error, result) => {
                this.assertError(error, 'Debugger.setVariableValue');
                resolve();
            });
        });
    }
    /** Enables or disables async call stacks tracking. */
    async setAsyncCallStackDepth(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setAsyncCallStackDepth', params, (error, result) => {
                this.assertError(error, 'Debugger.setAsyncCallStackDepth');
                resolve();
            });
        });
    }
    /**
     * Replace previous blackbox patterns with passed ones. Forces backend to skip stepping/pausing in scripts with url matching one of the patterns. VM will try to leave blackboxed script by performing 'step in' several times, finally resorting to 'step out' if unsuccessful.
     * @experimental
     */
    async setBlackboxPatterns(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setBlackboxPatterns', params, (error, result) => {
                this.assertError(error, 'Debugger.setBlackboxPatterns');
                resolve();
            });
        });
    }
    /**
     * Makes backend skip steps in the script in blackboxed ranges. VM will try leave blacklisted scripts by performing 'step in' several times, finally resorting to 'step out' if unsuccessful. Positions array contains positions where blackbox state is changed. First interval isn't blackboxed. Array should be sorted.
     * @experimental
     */
    async setBlackboxedRanges(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Debugger.setBlackboxedRanges', params, (error, result) => {
                this.assertError(error, 'Debugger.setBlackboxedRanges');
                resolve();
            });
        });
    }
}
exports.default = Debugger;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVidWdnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9nZW5lcmF0ZWQtdHMvRGVidWdnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBc0M7QUFDdEMsbURBQTJDO0FBd3JCM0M7O0dBRUc7QUFDSDtJQUdJLFlBQTZCLEdBQVEsQ0FBQyxzQkFBc0I7UUFBL0IsUUFBRyxHQUFILEdBQUcsQ0FBSyxDQUFDLHNCQUFzQjtRQUZwRCxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQTtRQUkvQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVyxFQUFFLE1BQVc7WUFDeEQsTUFBTSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUMxQyxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQywyRUFBMkUsQ0FBQyxDQUFBO1FBQ2hHLENBQUM7SUFDTCxDQUFDO0lBRU0sRUFBRSxDQUFDLEtBQWEsRUFBRSxRQUFrQjtRQUN2QyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVNLElBQUksQ0FBQyxLQUFhLEVBQUUsUUFBa0I7UUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFTyxXQUFXLENBQUMsS0FBVSxFQUFFLFdBQW1CO1FBQy9DLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxL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Q0FBQyxNQUEyQztRQUN4RSxNQUFNLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBWSxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2hELElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLDhCQUE4QixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUNqRixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSw4QkFBOEIsQ0FBQyxDQUFBO2dCQUN2RCxPQUFPLEVBQUUsQ0FBQTtZQUNiLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksS0FBSyxDQUFDLG1CQUFtQixDQUFDLE1BQTJDO1FBQ3hFLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFZLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDaEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsOEJBQThCLEVBQUUsTUFBTSxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVc7Z0JBQ2pGLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDhCQUE4QixDQUFDLENBQUE7Z0JBQ3ZELE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FFSjtBQUVELGtCQUFlLFFBQVEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnXG5pbXBvcnQgRGVidWdnZXJFcnJvciBmcm9tICcuL0RlYnVnZ2VyRXJyb3InXG5pbXBvcnQgUnVudGltZSBmcm9tICcuL1J1bnRpbWUnXG5cbmRlY2xhcmUgaW50ZXJmYWNlIERlYnVnZ2VyIHtcblxuICAgIC8qKiBGaXJlZCB3aGVuIHZpcnR1YWwgbWFjaGluZSBwYXJzZXMgc2NyaXB0LiBUaGlzIGV2ZW50IGlzIGFsc28gZmlyZWQgZm9yIGFsbCBrbm93biBhbmQgdW5jb2xsZWN0ZWQgc2NyaXB0cyB1cG9uIGVuYWJsaW5nIGRlYnVnZ2VyLiAqL1xuICAgIG9uKGV2ZW50OiAnc2NyaXB0UGFyc2VkJywgbGlzdGVuZXI6IChwYXJhbXM6IERlYnVnZ2VyLkV2ZW50UGFyYW1zLnNjcmlwdFBhcnNlZCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZWQgd2hlbiB2aXJ0dWFsIG1hY2hpbmUgcGFyc2VzIHNjcmlwdC4gVGhpcyBldmVudCBpcyBhbHNvIGZpcmVkIGZvciBhbGwga25vd24gYW5kIHVuY29sbGVjdGVkIHNjcmlwdHMgdXBvbiBlbmFibGluZyBkZWJ1Z2dlci4gKi9cbiAgICBvbmNlKGV2ZW50OiAnc2NyaXB0UGFyc2VkJywgbGlzdGVuZXI6IChwYXJhbXM6IERlYnVnZ2VyLkV2ZW50UGFyYW1zLnNjcmlwdFBhcnNlZCkgPT4gdm9pZCk6IHZvaWRcblxuICAgIC8qKiBGaXJlZCB3aGVuIHZpcnR1YWwgbWFjaGluZSBmYWlscyB0byBwYXJzZSB0aGUgc2NyaXB0LiAqL1xuICAgIG9uKGV2ZW50OiAnc2NyaXB0RmFpbGVkVG9QYXJzZScsIGxpc3RlbmVyOiAocGFyYW1zOiBEZWJ1Z2dlci5FdmVudFBhcmFtcy5zY3JpcHRGYWlsZWRUb1BhcnNlKSA9PiB2b2lkKTogdm9pZFxuICAgIC8qKiBGaXJlZCB3aGVuIHZpcnR1YWwgbWFjaGluZSBmYWlscyB0byBwYXJzZSB0aGUgc2NyaXB0LiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdzY3JpcHRGYWlsZWRUb1BhcnNlJywgbGlzdGVuZXI6IChwYXJhbXM6IERlYnVnZ2VyLkV2ZW50UGFyYW1zLnNjcmlwdEZhaWxlZFRvUGFyc2UpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKiogRmlyZWQgd2hlbiBicmVha3BvaW50IGlzIHJlc29sdmVkIHRvIGFuIGFjdHVhbCBzY3JpcHQgYW5kIGxvY2F0aW9uLiAqL1xuICAgIG9uKGV2ZW50OiAnYnJlYWtwb2ludFJlc29sdmVkJywgbGlzdGVuZXI6IChwYXJhbXM6IERlYnVnZ2VyLkV2ZW50UGFyYW1zLmJyZWFrcG9pbnRSZXNvbHZlZCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZWQgd2hlbiBicmVha3BvaW50IGlzIHJlc29sdmVkIHRvIGFuIGFjdHVhbCBzY3JpcHQgYW5kIGxvY2F0aW9uLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdicmVha3BvaW50UmVzb2x2ZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogRGVidWdnZXIuRXZlbnRQYXJhbXMuYnJlYWtwb2ludFJlc29sdmVkKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIEZpcmVkIHdoZW4gdGhlIHZpcnR1YWwgbWFjaGluZSBzdG9wcGVkIG9uIGJyZWFrcG9pbnQgb3IgZXhjZXB0aW9uIG9yIGFueSBvdGhlciBzdG9wIGNyaXRlcmlhLiAqL1xuICAgIG9uKGV2ZW50OiAncGF1c2VkJywgbGlzdGVuZXI6IChwYXJhbXM6IERlYnVnZ2VyLkV2ZW50UGFyYW1zLnBhdXNlZCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogRmlyZWQgd2hlbiB0aGUgdmlydHVhbCBtYWNoaW5lIHN0b3BwZWQgb24gYnJlYWtwb2ludCBvciBleGNlcHRpb24gb3IgYW55IG90aGVyIHN0b3AgY3JpdGVyaWEuICovXG4gICAgb25jZShldmVudDogJ3BhdXNlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBEZWJ1Z2dlci5FdmVudFBhcmFtcy5wYXVzZWQpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKiogRmlyZWQgd2hlbiB0aGUgdmlydHVhbCBtYWNoaW5lIHJlc3VtZWQgZXhlY3V0aW9uLiAqL1xuICAgIG9uKGV2ZW50OiAncmVzdW1lZCcsIGxpc3RlbmVyOiAoKSA9PiB2b2lkKTogdm9pZFxuICAgIC8qKiBGaXJlZCB3aGVuIHRoZSB2aXJ0dWFsIG1hY2hpbmUgcmVzdW1lZCBleGVjdXRpb24uICovXG4gICAgb25jZShldmVudDogJ3Jlc3VtZWQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWRcblxufVxuXG5tb2R1bGUgRGVidWdnZXIge1xuICAgIC8qKioqKioqKioqKioqKipcbiAgICAgKioqKiBUeXBlcyAqKioqXG4gICAgICoqKioqKioqKioqKioqL1xuXG4gICAgLyoqXG4gICAgICogQnJlYWtwb2ludCBpZGVudGlmaWVyLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBCcmVha3BvaW50SWQgPSBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIENhbGwgZnJhbWUgaWRlbnRpZmllci5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgQ2FsbEZyYW1lSWQgPSBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIExvY2F0aW9uIGluIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgTG9jYXRpb24gPSB7XG4gICAgICAgIC8qKiBTY3JpcHQgaWRlbnRpZmllciBhcyByZXBvcnRlZCBpbiB0aGUgPGNvZGU+RGVidWdnZXIuc2NyaXB0UGFyc2VkPC9jb2RlPi4gKi9cbiAgICAgICAgc2NyaXB0SWQ6IFJ1bnRpbWUuU2NyaXB0SWRcblxuICAgICAgICAvKiogTGluZSBudW1iZXIgaW4gdGhlIHNjcmlwdCAoMC1iYXNlZCkuICovXG4gICAgICAgIGxpbmVOdW1iZXI6IG51bWJlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2x1bW4gbnVtYmVyIGluIHRoZSBzY3JpcHQgKDAtYmFzZWQpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGNvbHVtbk51bWJlcj86IG51bWJlclxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2F0aW9uIGluIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgU2NyaXB0UG9zaXRpb24gPSB7XG4gICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICBsaW5lTnVtYmVyOiBudW1iZXJcblxuICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgY29sdW1uTnVtYmVyOiBudW1iZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKYXZhU2NyaXB0IGNhbGwgZnJhbWUuIEFycmF5IG9mIGNhbGwgZnJhbWVzIGZvcm0gdGhlIGNhbGwgc3RhY2suXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIENhbGxGcmFtZSA9IHtcbiAgICAgICAgLyoqIENhbGwgZnJhbWUgaWRlbnRpZmllci4gVGhpcyBpZGVudGlmaWVyIGlzIG9ubHkgdmFsaWQgd2hpbGUgdGhlIHZpcnR1YWwgbWFjaGluZSBpcyBwYXVzZWQuICovXG4gICAgICAgIGNhbGxGcmFtZUlkOiBDYWxsRnJhbWVJZFxuXG4gICAgICAgIC8qKiBOYW1lIG9mIHRoZSBKYXZhU2NyaXB0IGZ1bmN0aW9uIGNhbGxlZCBvbiB0aGlzIGNhbGwgZnJhbWUuICovXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2F0aW9uIGluIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uTG9jYXRpb24/OiBMb2NhdGlvblxuXG4gICAgICAgIC8qKiBMb2NhdGlvbiBpbiB0aGUgc291cmNlIGNvZGUuICovXG4gICAgICAgIGxvY2F0aW9uOiBMb2NhdGlvblxuXG4gICAgICAgIC8qKiBTY29wZSBjaGFpbiBmb3IgdGhpcyBjYWxsIGZyYW1lLiAqL1xuICAgICAgICBzY29wZUNoYWluOiBTY29wZVtdXG5cbiAgICAgICAgLyoqIDxjb2RlPnRoaXM8L2NvZGU+IG9iamVjdCBmb3IgdGhpcyBjYWxsIGZyYW1lLiAqL1xuICAgICAgICB0aGlzOiBSdW50aW1lLlJlbW90ZU9iamVjdFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgYmVpbmcgcmV0dXJuZWQsIGlmIHRoZSBmdW5jdGlvbiBpcyBhdCByZXR1cm4gcG9pbnQuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuVmFsdWU/OiBSdW50aW1lLlJlbW90ZU9iamVjdFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjb3BlIGRlc2NyaXB0aW9uLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBTY29wZSA9IHtcbiAgICAgICAgLyoqIFNjb3BlIHR5cGUuICovXG4gICAgICAgIHR5cGU6ICdnbG9iYWwnIHwgJ2xvY2FsJyB8ICd3aXRoJyB8ICdjbG9zdXJlJyB8ICdjYXRjaCcgfCAnYmxvY2snIHwgJ3NjcmlwdCcgfCAnZXZhbCcgfCAnbW9kdWxlJ1xuXG4gICAgICAgIC8qKiBPYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzY29wZS4gRm9yIDxjb2RlPmdsb2JhbDwvY29kZT4gYW5kIDxjb2RlPndpdGg8L2NvZGU+IHNjb3BlcyBpdCByZXByZXNlbnRzIHRoZSBhY3R1YWwgb2JqZWN0OyBmb3IgdGhlIHJlc3Qgb2YgdGhlIHNjb3BlcywgaXQgaXMgYXJ0aWZpY2lhbCB0cmFuc2llbnQgb2JqZWN0IGVudW1lcmF0aW5nIHNjb3BlIHZhcmlhYmxlcyBhcyBpdHMgcHJvcGVydGllcy4gKi9cbiAgICAgICAgb2JqZWN0OiBSdW50aW1lLlJlbW90ZU9iamVjdFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBkZXNjcmlwdGlvblxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU/OiBzdHJpbmdcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYXRpb24gaW4gdGhlIHNvdXJjZSBjb2RlIHdoZXJlIHNjb3BlIHN0YXJ0c1xuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0YXJ0TG9jYXRpb24/OiBMb2NhdGlvblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhdGlvbiBpbiB0aGUgc291cmNlIGNvZGUgd2hlcmUgc2NvcGUgZW5kc1xuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGVuZExvY2F0aW9uPzogTG9jYXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggbWF0Y2ggZm9yIHJlc291cmNlLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBTZWFyY2hNYXRjaCA9IHtcbiAgICAgICAgLyoqIExpbmUgbnVtYmVyIGluIHJlc291cmNlIGNvbnRlbnQuICovXG4gICAgICAgIGxpbmVOdW1iZXI6IG51bWJlclxuXG4gICAgICAgIC8qKiBMaW5lIHdpdGggbWF0Y2ggY29udGVudC4gKi9cbiAgICAgICAgbGluZUNvbnRlbnQ6IHN0cmluZ1xuICAgIH1cblxuICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgZXhwb3J0IHR5cGUgQnJlYWtMb2NhdGlvbiA9IHtcbiAgICAgICAgLyoqIFNjcmlwdCBpZGVudGlmaWVyIGFzIHJlcG9ydGVkIGluIHRoZSA8Y29kZT5EZWJ1Z2dlci5zY3JpcHRQYXJzZWQ8L2NvZGU+LiAqL1xuICAgICAgICBzY3JpcHRJZDogUnVudGltZS5TY3JpcHRJZFxuXG4gICAgICAgIC8qKiBMaW5lIG51bWJlciBpbiB0aGUgc2NyaXB0ICgwLWJhc2VkKS4gKi9cbiAgICAgICAgbGluZU51bWJlcjogbnVtYmVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbHVtbiBudW1iZXIgaW4gdGhlIHNjcmlwdCAoMC1iYXNlZCkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgY29sdW1uTnVtYmVyPzogbnVtYmVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZT86ICdkZWJ1Z2dlclN0YXRlbWVudCcgfCAnY2FsbCcgfCAncmV0dXJuJ1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqKiogQ29tbWFuZCBQYXJhbWV0ZXJzICoqKipcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBtb2R1bGUgUGFyYW1zIHtcbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0QnJlYWtwb2ludHNBY3RpdmUgPSB7XG4gICAgICAgICAgICAvKiogTmV3IHZhbHVlIGZvciBicmVha3BvaW50cyBhY3RpdmUgc3RhdGUuICovXG4gICAgICAgICAgICBhY3RpdmU6IGJvb2xlYW5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldFNraXBBbGxQYXVzZXMgPSB7XG4gICAgICAgICAgICAvKiogTmV3IHZhbHVlIGZvciBza2lwIHBhdXNlcyBzdGF0ZS4gKi9cbiAgICAgICAgICAgIHNraXA6IGJvb2xlYW5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEJyZWFrcG9pbnRCeVVybCA9IHtcbiAgICAgICAgICAgIC8qKiBMaW5lIG51bWJlciB0byBzZXQgYnJlYWtwb2ludCBhdC4gKi9cbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IG51bWJlclxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVSTCBvZiB0aGUgcmVzb3VyY2VzIHRvIHNldCBicmVha3BvaW50IG9uLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHVybD86IHN0cmluZ1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlZ2V4IHBhdHRlcm4gZm9yIHRoZSBVUkxzIG9mIHRoZSByZXNvdXJjZXMgdG8gc2V0IGJyZWFrcG9pbnRzIG9uLiBFaXRoZXIgPGNvZGU+dXJsPC9jb2RlPiBvciA8Y29kZT51cmxSZWdleDwvY29kZT4gbXVzdCBiZSBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdXJsUmVnZXg/OiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPZmZzZXQgaW4gdGhlIGxpbmUgdG8gc2V0IGJyZWFrcG9pbnQgYXQuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29sdW1uTnVtYmVyPzogbnVtYmVyXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXhwcmVzc2lvbiB0byB1c2UgYXMgYSBicmVha3BvaW50IGNvbmRpdGlvbi4gV2hlbiBzcGVjaWZpZWQsIGRlYnVnZ2VyIHdpbGwgb25seSBzdG9wIG9uIHRoZSBicmVha3BvaW50IGlmIHRoaXMgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25kaXRpb24/OiBzdHJpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEJyZWFrcG9pbnQgPSB7XG4gICAgICAgICAgICAvKiogTG9jYXRpb24gdG8gc2V0IGJyZWFrcG9pbnQgaW4uICovXG4gICAgICAgICAgICBsb2NhdGlvbjogTG9jYXRpb25cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFeHByZXNzaW9uIHRvIHVzZSBhcyBhIGJyZWFrcG9pbnQgY29uZGl0aW9uLiBXaGVuIHNwZWNpZmllZCwgZGVidWdnZXIgd2lsbCBvbmx5IHN0b3Agb24gdGhlIGJyZWFrcG9pbnQgaWYgdGhpcyBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbmRpdGlvbj86IHN0cmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgcmVtb3ZlQnJlYWtwb2ludCA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgYnJlYWtwb2ludElkOiBCcmVha3BvaW50SWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFBvc3NpYmxlQnJlYWtwb2ludHMgPSB7XG4gICAgICAgICAgICAvKiogU3RhcnQgb2YgcmFuZ2UgdG8gc2VhcmNoIHBvc3NpYmxlIGJyZWFrcG9pbnQgbG9jYXRpb25zIGluLiAqL1xuICAgICAgICAgICAgc3RhcnQ6IExvY2F0aW9uXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRW5kIG9mIHJhbmdlIHRvIHNlYXJjaCBwb3NzaWJsZSBicmVha3BvaW50IGxvY2F0aW9ucyBpbiAoZXhjbHVkaW5nKS4gV2hlbiBub3Qgc3BlY2lmaWVkLCBlbmQgb2Ygc2NyaXB0cyBpcyB1c2VkIGFzIGVuZCBvZiByYW5nZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlbmQ/OiBMb2NhdGlvblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE9ubHkgY29uc2lkZXIgbG9jYXRpb25zIHdoaWNoIGFyZSBpbiB0aGUgc2FtZSAobm9uLW5lc3RlZCkgZnVuY3Rpb24gYXMgc3RhcnQuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmVzdHJpY3RUb0Z1bmN0aW9uPzogYm9vbGVhblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgY29udGludWVUb0xvY2F0aW9uID0ge1xuICAgICAgICAgICAgLyoqIExvY2F0aW9uIHRvIGNvbnRpbnVlIHRvLiAqL1xuICAgICAgICAgICAgbG9jYXRpb246IExvY2F0aW9uXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTm8gZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0YXJnZXRDYWxsRnJhbWVzPzogJ2FueScgfCAnY3VycmVudCdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNlYXJjaEluQ29udGVudCA9IHtcbiAgICAgICAgICAgIC8qKiBJZCBvZiB0aGUgc2NyaXB0IHRvIHNlYXJjaCBpbi4gKi9cbiAgICAgICAgICAgIHNjcmlwdElkOiBSdW50aW1lLlNjcmlwdElkXG5cbiAgICAgICAgICAgIC8qKiBTdHJpbmcgdG8gc2VhcmNoIGZvci4gKi9cbiAgICAgICAgICAgIHF1ZXJ5OiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCBzZWFyY2ggaXMgY2FzZSBzZW5zaXRpdmUuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZT86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCB0cmVhdHMgc3RyaW5nIHBhcmFtZXRlciBhcyByZWdleC5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpc1JlZ2V4PzogYm9vbGVhblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0U2NyaXB0U291cmNlID0ge1xuICAgICAgICAgICAgLyoqIElkIG9mIHRoZSBzY3JpcHQgdG8gZWRpdC4gKi9cbiAgICAgICAgICAgIHNjcmlwdElkOiBSdW50aW1lLlNjcmlwdElkXG5cbiAgICAgICAgICAgIC8qKiBOZXcgY29udGVudCBvZiB0aGUgc2NyaXB0LiAqL1xuICAgICAgICAgICAgc2NyaXB0U291cmNlOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlIHRoZSBjaGFuZ2Ugd2lsbCBub3QgYWN0dWFsbHkgYmUgYXBwbGllZC4gRHJ5IHJ1biBtYXkgYmUgdXNlZCB0byBnZXQgcmVzdWx0IGRlc2NyaXB0aW9uIHdpdGhvdXQgYWN0dWFsbHkgbW9kaWZ5aW5nIHRoZSBjb2RlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGRyeVJ1bj86IGJvb2xlYW5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHJlc3RhcnRGcmFtZSA9IHtcbiAgICAgICAgICAgIC8qKiBDYWxsIGZyYW1lIGlkZW50aWZpZXIgdG8gZXZhbHVhdGUgb24uICovXG4gICAgICAgICAgICBjYWxsRnJhbWVJZDogQ2FsbEZyYW1lSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFNjcmlwdFNvdXJjZSA9IHtcbiAgICAgICAgICAgIC8qKiBJZCBvZiB0aGUgc2NyaXB0IHRvIGdldCBzb3VyY2UgZm9yLiAqL1xuICAgICAgICAgICAgc2NyaXB0SWQ6IFJ1bnRpbWUuU2NyaXB0SWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldFBhdXNlT25FeGNlcHRpb25zID0ge1xuICAgICAgICAgICAgLyoqIFBhdXNlIG9uIGV4Y2VwdGlvbnMgbW9kZS4gKi9cbiAgICAgICAgICAgIHN0YXRlOiAnbm9uZScgfCAndW5jYXVnaHQnIHwgJ2FsbCdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGV2YWx1YXRlT25DYWxsRnJhbWUgPSB7XG4gICAgICAgICAgICAvKiogQ2FsbCBmcmFtZSBpZGVudGlmaWVyIHRvIGV2YWx1YXRlIG9uLiAqL1xuICAgICAgICAgICAgY2FsbEZyYW1lSWQ6IENhbGxGcmFtZUlkXG5cbiAgICAgICAgICAgIC8qKiBFeHByZXNzaW9uIHRvIGV2YWx1YXRlLiAqL1xuICAgICAgICAgICAgZXhwcmVzc2lvbjogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RyaW5nIG9iamVjdCBncm91cCBuYW1lIHRvIHB1dCByZXN1bHQgaW50byAoYWxsb3dzIHJhcGlkIHJlbGVhc2luZyByZXN1bHRpbmcgb2JqZWN0IGhhbmRsZXMgdXNpbmcgPGNvZGU+cmVsZWFzZU9iamVjdEdyb3VwPC9jb2RlPikuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb2JqZWN0R3JvdXA/OiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciBjb21tYW5kIGxpbmUgQVBJIHNob3VsZCBiZSBhdmFpbGFibGUgdG8gdGhlIGV2YWx1YXRlZCBleHByZXNzaW9uLCBkZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbmNsdWRlQ29tbWFuZExpbmVBUEk/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW4gc2lsZW50IG1vZGUgZXhjZXB0aW9ucyB0aHJvd24gZHVyaW5nIGV2YWx1YXRpb24gYXJlIG5vdCByZXBvcnRlZCBhbmQgZG8gbm90IHBhdXNlIGV4ZWN1dGlvbi4gT3ZlcnJpZGVzIDxjb2RlPnNldFBhdXNlT25FeGNlcHRpb248L2NvZGU+IHN0YXRlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNpbGVudD86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIHRoZSByZXN1bHQgaXMgZXhwZWN0ZWQgdG8gYmUgYSBKU09OIG9iamVjdCB0aGF0IHNob3VsZCBiZSBzZW50IGJ5IHZhbHVlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybkJ5VmFsdWU/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciBwcmV2aWV3IHNob3VsZCBiZSBnZW5lcmF0ZWQgZm9yIHRoZSByZXN1bHQuXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2VuZXJhdGVQcmV2aWV3PzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgdG8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHNpZGUgZWZmZWN0IGNhbm5vdCBiZSBydWxlZCBvdXQgZHVyaW5nIGV2YWx1YXRpb24uXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhyb3dPblNpZGVFZmZlY3Q/OiBib29sZWFuXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZXRWYXJpYWJsZVZhbHVlID0ge1xuICAgICAgICAgICAgLyoqIDAtYmFzZWQgbnVtYmVyIG9mIHNjb3BlIGFzIHdhcyBsaXN0ZWQgaW4gc2NvcGUgY2hhaW4uIE9ubHkgJ2xvY2FsJywgJ2Nsb3N1cmUnIGFuZCAnY2F0Y2gnIHNjb3BlIHR5cGVzIGFyZSBhbGxvd2VkLiBPdGhlciBzY29wZXMgY291bGQgYmUgbWFuaXB1bGF0ZWQgbWFudWFsbHkuICovXG4gICAgICAgICAgICBzY29wZU51bWJlcjogbnVtYmVyXG5cbiAgICAgICAgICAgIC8qKiBWYXJpYWJsZSBuYW1lLiAqL1xuICAgICAgICAgICAgdmFyaWFibGVOYW1lOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqIE5ldyB2YXJpYWJsZSB2YWx1ZS4gKi9cbiAgICAgICAgICAgIG5ld1ZhbHVlOiBSdW50aW1lLkNhbGxBcmd1bWVudFxuXG4gICAgICAgICAgICAvKiogSWQgb2YgY2FsbGZyYW1lIHRoYXQgaG9sZHMgdmFyaWFibGUuICovXG4gICAgICAgICAgICBjYWxsRnJhbWVJZDogQ2FsbEZyYW1lSWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEFzeW5jQ2FsbFN0YWNrRGVwdGggPSB7XG4gICAgICAgICAgICAvKiogTWF4aW11bSBkZXB0aCBvZiBhc3luYyBjYWxsIHN0YWNrcy4gU2V0dGluZyB0byA8Y29kZT4wPC9jb2RlPiB3aWxsIGVmZmVjdGl2ZWx5IGRpc2FibGUgY29sbGVjdGluZyBhc3luYyBjYWxsIHN0YWNrcyAoZGVmYXVsdCkuICovXG4gICAgICAgICAgICBtYXhEZXB0aDogbnVtYmVyXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZXRCbGFja2JveFBhdHRlcm5zID0ge1xuICAgICAgICAgICAgLyoqIEFycmF5IG9mIHJlZ2V4cHMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY2hlY2sgc2NyaXB0IHVybCBmb3IgYmxhY2tib3ggc3RhdGUuICovXG4gICAgICAgICAgICBwYXR0ZXJuczogc3RyaW5nW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEJsYWNrYm94ZWRSYW5nZXMgPSB7XG4gICAgICAgICAgICAvKiogSWQgb2YgdGhlIHNjcmlwdC4gKi9cbiAgICAgICAgICAgIHNjcmlwdElkOiBSdW50aW1lLlNjcmlwdElkXG5cbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgcG9zaXRpb25zOiBTY3JpcHRQb3NpdGlvbltdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqKiogQ29tbWFuZCBSZXN1bHQgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBleHBvcnQgbW9kdWxlIFJlc3VsdCB7XG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNldEJyZWFrcG9pbnRCeVVybCA9IHtcbiAgICAgICAgICAgIC8qKiBJZCBvZiB0aGUgY3JlYXRlZCBicmVha3BvaW50IGZvciBmdXJ0aGVyIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgICAgIGJyZWFrcG9pbnRJZDogQnJlYWtwb2ludElkXG5cbiAgICAgICAgICAgIC8qKiBMaXN0IG9mIHRoZSBsb2NhdGlvbnMgdGhpcyBicmVha3BvaW50IHJlc29sdmVkIGludG8gdXBvbiBhZGRpdGlvbi4gKi9cbiAgICAgICAgICAgIGxvY2F0aW9uczogTG9jYXRpb25bXVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0QnJlYWtwb2ludCA9IHtcbiAgICAgICAgICAgIC8qKiBJZCBvZiB0aGUgY3JlYXRlZCBicmVha3BvaW50IGZvciBmdXJ0aGVyIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgICAgIGJyZWFrcG9pbnRJZDogQnJlYWtwb2ludElkXG5cbiAgICAgICAgICAgIC8qKiBMb2NhdGlvbiB0aGlzIGJyZWFrcG9pbnQgcmVzb2x2ZWQgaW50by4gKi9cbiAgICAgICAgICAgIGFjdHVhbExvY2F0aW9uOiBMb2NhdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0UG9zc2libGVCcmVha3BvaW50cyA9IHtcbiAgICAgICAgICAgIC8qKiBMaXN0IG9mIHRoZSBwb3NzaWJsZSBicmVha3BvaW50IGxvY2F0aW9ucy4gKi9cbiAgICAgICAgICAgIGxvY2F0aW9uczogQnJlYWtMb2NhdGlvbltdXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBzZWFyY2hJbkNvbnRlbnQgPSB7XG4gICAgICAgICAgICAvKiogTGlzdCBvZiBzZWFyY2ggbWF0Y2hlcy4gKi9cbiAgICAgICAgICAgIHJlc3VsdDogU2VhcmNoTWF0Y2hbXVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0U2NyaXB0U291cmNlID0ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBOZXcgc3RhY2sgdHJhY2UgaW4gY2FzZSBlZGl0aW5nIGhhcyBoYXBwZW5lZCB3aGlsZSBWTSB3YXMgc3RvcHBlZC5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYWxsRnJhbWVzPzogQ2FsbEZyYW1lW11cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgY2FsbCBzdGFjayAgd2FzIG1vZGlmaWVkIGFmdGVyIGFwcGx5aW5nIHRoZSBjaGFuZ2VzLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0YWNrQ2hhbmdlZD86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBc3luYyBzdGFjayB0cmFjZSwgaWYgYW55LlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFzeW5jU3RhY2tUcmFjZT86IFJ1bnRpbWUuU3RhY2tUcmFjZVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV4Y2VwdGlvbiBkZXRhaWxzIGlmIGFueS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBleGNlcHRpb25EZXRhaWxzPzogUnVudGltZS5FeGNlcHRpb25EZXRhaWxzXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSByZXN0YXJ0RnJhbWUgPSB7XG4gICAgICAgICAgICAvKiogTmV3IHN0YWNrIHRyYWNlLiAqL1xuICAgICAgICAgICAgY2FsbEZyYW1lczogQ2FsbEZyYW1lW11cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBc3luYyBzdGFjayB0cmFjZSwgaWYgYW55LlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFzeW5jU3RhY2tUcmFjZT86IFJ1bnRpbWUuU3RhY2tUcmFjZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0U2NyaXB0U291cmNlID0ge1xuICAgICAgICAgICAgLyoqIFNjcmlwdCBzb3VyY2UuICovXG4gICAgICAgICAgICBzY3JpcHRTb3VyY2U6IHN0cmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZXZhbHVhdGVPbkNhbGxGcmFtZSA9IHtcbiAgICAgICAgICAgIC8qKiBPYmplY3Qgd3JhcHBlciBmb3IgdGhlIGV2YWx1YXRpb24gcmVzdWx0LiAqL1xuICAgICAgICAgICAgcmVzdWx0OiBSdW50aW1lLlJlbW90ZU9iamVjdFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV4Y2VwdGlvbiBkZXRhaWxzLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4Y2VwdGlvbkRldGFpbHM/OiBSdW50aW1lLkV4Y2VwdGlvbkRldGFpbHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIEV2ZW50IFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBtb2R1bGUgRXZlbnRQYXJhbXMge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB2aXJ0dWFsIG1hY2hpbmUgcGFyc2VzIHNjcmlwdC4gVGhpcyBldmVudCBpcyBhbHNvIGZpcmVkIGZvciBhbGwga25vd24gYW5kIHVuY29sbGVjdGVkIHNjcmlwdHMgdXBvbiBlbmFibGluZyBkZWJ1Z2dlci5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2NyaXB0UGFyc2VkID0ge1xuICAgICAgICAgICAgLyoqIElkZW50aWZpZXIgb2YgdGhlIHNjcmlwdCBwYXJzZWQuICovXG4gICAgICAgICAgICBzY3JpcHRJZDogUnVudGltZS5TY3JpcHRJZFxuXG4gICAgICAgICAgICAvKiogVVJMIG9yIG5hbWUgb2YgdGhlIHNjcmlwdCBwYXJzZWQgKGlmIGFueSkuICovXG4gICAgICAgICAgICB1cmw6IHN0cmluZ1xuXG4gICAgICAgICAgICAvKiogTGluZSBvZmZzZXQgb2YgdGhlIHNjcmlwdCB3aXRoaW4gdGhlIHJlc291cmNlIHdpdGggZ2l2ZW4gVVJMIChmb3Igc2NyaXB0IHRhZ3MpLiAqL1xuICAgICAgICAgICAgc3RhcnRMaW5lOiBudW1iZXJcblxuICAgICAgICAgICAgLyoqIENvbHVtbiBvZmZzZXQgb2YgdGhlIHNjcmlwdCB3aXRoaW4gdGhlIHJlc291cmNlIHdpdGggZ2l2ZW4gVVJMLiAqL1xuICAgICAgICAgICAgc3RhcnRDb2x1bW46IG51bWJlclxuXG4gICAgICAgICAgICAvKiogTGFzdCBsaW5lIG9mIHRoZSBzY3JpcHQuICovXG4gICAgICAgICAgICBlbmRMaW5lOiBudW1iZXJcblxuICAgICAgICAgICAgLyoqIExlbmd0aCBvZiB0aGUgbGFzdCBsaW5lIG9mIHRoZSBzY3JpcHQuICovXG4gICAgICAgICAgICBlbmRDb2x1bW46IG51bWJlclxuXG4gICAgICAgICAgICAvKiogU3BlY2lmaWVzIHNjcmlwdCBjcmVhdGlvbiBjb250ZXh0LiAqL1xuICAgICAgICAgICAgZXhlY3V0aW9uQ29udGV4dElkOiBSdW50aW1lLkV4ZWN1dGlvbkNvbnRleHRJZFxuXG4gICAgICAgICAgICAvKiogQ29udGVudCBoYXNoIG9mIHRoZSBzY3JpcHQuICovXG4gICAgICAgICAgICBoYXNoOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFbWJlZGRlci1zcGVjaWZpYyBhdXhpbGlhcnkgZGF0YS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0QXV4RGF0YT86IG9iamVjdFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRydWUsIGlmIHRoaXMgc2NyaXB0IGlzIGdlbmVyYXRlZCBhcyBhIHJlc3VsdCBvZiB0aGUgbGl2ZSBlZGl0IG9wZXJhdGlvbi5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpc0xpdmVFZGl0PzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVSTCBvZiBzb3VyY2UgbWFwIGFzc29jaWF0ZWQgd2l0aCBzY3JpcHQgKGlmIGFueSkuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc291cmNlTWFwVVJMPzogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJ1ZSwgaWYgdGhpcyBzY3JpcHQgaGFzIHNvdXJjZVVSTC5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBoYXNTb3VyY2VVUkw/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJ1ZSwgaWYgdGhpcyBzY3JpcHQgaXMgRVM2IG1vZHVsZS5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpc01vZHVsZT86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIHNjcmlwdCBsZW5ndGguXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGVuZ3RoPzogbnVtYmVyXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSmF2YVNjcmlwdCB0b3Agc3RhY2sgZnJhbWUgb2Ygd2hlcmUgdGhlIHNjcmlwdCBwYXJzZWQgZXZlbnQgd2FzIHRyaWdnZXJlZCBpZiBhdmFpbGFibGUuXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RhY2tUcmFjZT86IFJ1bnRpbWUuU3RhY2tUcmFjZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdmlydHVhbCBtYWNoaW5lIGZhaWxzIHRvIHBhcnNlIHRoZSBzY3JpcHQuXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCB0eXBlIHNjcmlwdEZhaWxlZFRvUGFyc2UgPSB7XG4gICAgICAgICAgICAvKiogSWRlbnRpZmllciBvZiB0aGUgc2NyaXB0IHBhcnNlZC4gKi9cbiAgICAgICAgICAgIHNjcmlwdElkOiBSdW50aW1lLlNjcmlwdElkXG5cbiAgICAgICAgICAgIC8qKiBVUkwgb3IgbmFtZSBvZiB0aGUgc2NyaXB0IHBhcnNlZCAoaWYgYW55KS4gKi9cbiAgICAgICAgICAgIHVybDogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKiBMaW5lIG9mZnNldCBvZiB0aGUgc2NyaXB0IHdpdGhpbiB0aGUgcmVzb3VyY2Ugd2l0aCBnaXZlbiBVUkwgKGZvciBzY3JpcHQgdGFncykuICovXG4gICAgICAgICAgICBzdGFydExpbmU6IG51bWJlclxuXG4gICAgICAgICAgICAvKiogQ29sdW1uIG9mZnNldCBvZiB0aGUgc2NyaXB0IHdpdGhpbiB0aGUgcmVzb3VyY2Ugd2l0aCBnaXZlbiBVUkwuICovXG4gICAgICAgICAgICBzdGFydENvbHVtbjogbnVtYmVyXG5cbiAgICAgICAgICAgIC8qKiBMYXN0IGxpbmUgb2YgdGhlIHNjcmlwdC4gKi9cbiAgICAgICAgICAgIGVuZExpbmU6IG51bWJlclxuXG4gICAgICAgICAgICAvKiogTGVuZ3RoIG9mIHRoZSBsYXN0IGxpbmUgb2YgdGhlIHNjcmlwdC4gKi9cbiAgICAgICAgICAgIGVuZENvbHVtbjogbnVtYmVyXG5cbiAgICAgICAgICAgIC8qKiBTcGVjaWZpZXMgc2NyaXB0IGNyZWF0aW9uIGNvbnRleHQuICovXG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0SWQ6IFJ1bnRpbWUuRXhlY3V0aW9uQ29udGV4dElkXG5cbiAgICAgICAgICAgIC8qKiBDb250ZW50IGhhc2ggb2YgdGhlIHNjcmlwdC4gKi9cbiAgICAgICAgICAgIGhhc2g6IHN0cmluZ1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEVtYmVkZGVyLXNwZWNpZmljIGF1eGlsaWFyeSBkYXRhLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHRBdXhEYXRhPzogb2JqZWN0XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVVJMIG9mIHNvdXJjZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHNjcmlwdCAoaWYgYW55KS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzb3VyY2VNYXBVUkw/OiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcnVlLCBpZiB0aGlzIHNjcmlwdCBoYXMgc291cmNlVVJMLlxuICAgICAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGhhc1NvdXJjZVVSTD86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcnVlLCBpZiB0aGlzIHNjcmlwdCBpcyBFUzYgbW9kdWxlLlxuICAgICAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlzTW9kdWxlPzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgc2NyaXB0IGxlbmd0aC5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZW5ndGg/OiBudW1iZXJcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBKYXZhU2NyaXB0IHRvcCBzdGFjayBmcmFtZSBvZiB3aGVyZSB0aGUgc2NyaXB0IHBhcnNlZCBldmVudCB3YXMgdHJpZ2dlcmVkIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzdGFja1RyYWNlPzogUnVudGltZS5TdGFja1RyYWNlXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBicmVha3BvaW50IGlzIHJlc29sdmVkIHRvIGFuIGFjdHVhbCBzY3JpcHQgYW5kIGxvY2F0aW9uLlxuICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgdHlwZSBicmVha3BvaW50UmVzb2x2ZWQgPSB7XG4gICAgICAgICAgICAvKiogQnJlYWtwb2ludCB1bmlxdWUgaWRlbnRpZmllci4gKi9cbiAgICAgICAgICAgIGJyZWFrcG9pbnRJZDogQnJlYWtwb2ludElkXG5cbiAgICAgICAgICAgIC8qKiBBY3R1YWwgYnJlYWtwb2ludCBsb2NhdGlvbi4gKi9cbiAgICAgICAgICAgIGxvY2F0aW9uOiBMb2NhdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpcnR1YWwgbWFjaGluZSBzdG9wcGVkIG9uIGJyZWFrcG9pbnQgb3IgZXhjZXB0aW9uIG9yIGFueSBvdGhlciBzdG9wIGNyaXRlcmlhLlxuICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgdHlwZSBwYXVzZWQgPSB7XG4gICAgICAgICAgICAvKiogQ2FsbCBzdGFjayB0aGUgdmlydHVhbCBtYWNoaW5lIHN0b3BwZWQgb24uICovXG4gICAgICAgICAgICBjYWxsRnJhbWVzOiBDYWxsRnJhbWVbXVxuXG4gICAgICAgICAgICAvKiogUGF1c2UgcmVhc29uLiAqL1xuICAgICAgICAgICAgcmVhc29uOiAnWEhSJyB8ICdET00nIHwgJ0V2ZW50TGlzdGVuZXInIHwgJ2V4Y2VwdGlvbicgfCAnYXNzZXJ0JyB8ICdkZWJ1Z0NvbW1hbmQnIHwgJ3Byb21pc2VSZWplY3Rpb24nIHwgJ09PTScgfCAnb3RoZXInIHwgJ2FtYmlndW91cydcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYmplY3QgY29udGFpbmluZyBicmVhay1zcGVjaWZpYyBhdXhpbGlhcnkgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkYXRhPzogb2JqZWN0XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGl0IGJyZWFrcG9pbnRzIElEc1xuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGhpdEJyZWFrcG9pbnRzPzogc3RyaW5nW11cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBc3luYyBzdGFjayB0cmFjZSwgaWYgYW55LlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFzeW5jU3RhY2tUcmFjZT86IFJ1bnRpbWUuU3RhY2tUcmFjZVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERlYnVnZ2VyIGRvbWFpbiBleHBvc2VzIEphdmFTY3JpcHQgZGVidWdnaW5nIGNhcGFiaWxpdGllcy4gSXQgYWxsb3dzIHNldHRpbmcgYW5kIHJlbW92aW5nIGJyZWFrcG9pbnRzLCBzdGVwcGluZyB0aHJvdWdoIGV4ZWN1dGlvbiwgZXhwbG9yaW5nIHN0YWNrIHRyYWNlcywgZXRjLlxuICovXG5jbGFzcyBEZWJ1Z2dlciB7XG4gICAgcHJpdmF0ZSBldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZGJnOiBhbnkgLyogRWxlY3Ryb24uRGVidWdnZXIqLyApIHtcblxuICAgICAgICB0aGlzLmRiZy5vbignbWVzc2FnZScsIChldmVudDogYW55LCBtZXRob2Q6IGFueSwgcGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtkb21haW4sIGRvbWFpbk1ldGhvZF0gPSBtZXRob2Quc3BsaXQoJy4nKVxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChkb21haW5NZXRob2QsIHBhcmFtcylcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIXRoaXMuZGJnLmlzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIERlYnVnZ2VyIERvbWFpbiBDbGFzcyBiZWNhdXNlIHRoZSBkZWJ1Z2dlciBpcyBub3QgYXR0YWNoZWQuYClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGxpc3RlbmVyKVxuICAgIH1cblxuICAgIHB1YmxpYyBvbmNlKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgbGlzdGVuZXIpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3NlcnRFcnJvcihlcnJvcjogYW55LCBjb21tYW5kTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICgnbWVzc2FnZScgaW4gZXJyb3IgJiYgJ2NvZGUnIGluIGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGVidWdnZXJFcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvci5jb2RlLCBjb21tYW5kTmFtZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBFbmFibGVzIGRlYnVnZ2VyIGZvciB0aGUgZ2l2ZW4gcGFnZS4gQ2xpZW50cyBzaG91bGQgbm90IGFzc3VtZSB0aGF0IHRoZSBkZWJ1Z2dpbmcgaGFzIGJlZW4gZW5hYmxlZCB1bnRpbCB0aGUgcmVzdWx0IGZvciB0aGlzIGNvbW1hbmQgaXMgcmVjZWl2ZWQuICovXG4gICAgcHVibGljIGFzeW5jIGVuYWJsZSgpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5lbmFibGUnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLmVuYWJsZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBEaXNhYmxlcyBkZWJ1Z2dlciBmb3IgZ2l2ZW4gcGFnZS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZGlzYWJsZSgpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5kaXNhYmxlJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5kaXNhYmxlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIEFjdGl2YXRlcyAvIGRlYWN0aXZhdGVzIGFsbCBicmVha3BvaW50cyBvbiB0aGUgcGFnZS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0QnJlYWtwb2ludHNBY3RpdmUocGFyYW1zOiBEZWJ1Z2dlci5QYXJhbXMuc2V0QnJlYWtwb2ludHNBY3RpdmUpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5zZXRCcmVha3BvaW50c0FjdGl2ZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldEJyZWFrcG9pbnRzQWN0aXZlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIE1ha2VzIHBhZ2Ugbm90IGludGVycnVwdCBvbiBhbnkgcGF1c2VzIChicmVha3BvaW50LCBleGNlcHRpb24sIGRvbSBleGNlcHRpb24gZXRjKS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0U2tpcEFsbFBhdXNlcyhwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRTa2lwQWxsUGF1c2VzKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2V0U2tpcEFsbFBhdXNlcycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldFNraXBBbGxQYXVzZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogU2V0cyBKYXZhU2NyaXB0IGJyZWFrcG9pbnQgYXQgZ2l2ZW4gbG9jYXRpb24gc3BlY2lmaWVkIGVpdGhlciBieSBVUkwgb3IgVVJMIHJlZ2V4LiBPbmNlIHRoaXMgY29tbWFuZCBpcyBpc3N1ZWQsIGFsbCBleGlzdGluZyBwYXJzZWQgc2NyaXB0cyB3aWxsIGhhdmUgYnJlYWtwb2ludHMgcmVzb2x2ZWQgYW5kIHJldHVybmVkIGluIDxjb2RlPmxvY2F0aW9uczwvY29kZT4gcHJvcGVydHkuIEZ1cnRoZXIgbWF0Y2hpbmcgc2NyaXB0IHBhcnNpbmcgd2lsbCByZXN1bHQgaW4gc3Vic2VxdWVudCA8Y29kZT5icmVha3BvaW50UmVzb2x2ZWQ8L2NvZGU+IGV2ZW50cyBpc3N1ZWQuIFRoaXMgbG9naWNhbCBicmVha3BvaW50IHdpbGwgc3Vydml2ZSBwYWdlIHJlbG9hZHMuICovXG4gICAgcHVibGljIGFzeW5jIHNldEJyZWFrcG9pbnRCeVVybChwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRCcmVha3BvaW50QnlVcmwpOiBQcm9taXNlPERlYnVnZ2VyLlJlc3VsdC5zZXRCcmVha3BvaW50QnlVcmw+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnNldEJyZWFrcG9pbnRCeVVybD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnNldEJyZWFrcG9pbnRCeVVybCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldEJyZWFrcG9pbnRCeVVybCcpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LnNldEJyZWFrcG9pbnRCeVVybClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFNldHMgSmF2YVNjcmlwdCBicmVha3BvaW50IGF0IGEgZ2l2ZW4gbG9jYXRpb24uICovXG4gICAgcHVibGljIGFzeW5jIHNldEJyZWFrcG9pbnQocGFyYW1zOiBEZWJ1Z2dlci5QYXJhbXMuc2V0QnJlYWtwb2ludCk6IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnNldEJyZWFrcG9pbnQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnNldEJyZWFrcG9pbnQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5zZXRCcmVha3BvaW50JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnRGVidWdnZXIuc2V0QnJlYWtwb2ludCcpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LnNldEJyZWFrcG9pbnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBSZW1vdmVzIEphdmFTY3JpcHQgYnJlYWtwb2ludC4gKi9cbiAgICBwdWJsaWMgYXN5bmMgcmVtb3ZlQnJlYWtwb2ludChwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5yZW1vdmVCcmVha3BvaW50KTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIucmVtb3ZlQnJlYWtwb2ludCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnJlbW92ZUJyZWFrcG9pbnQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHBvc3NpYmxlIGxvY2F0aW9ucyBmb3IgYnJlYWtwb2ludC4gc2NyaXB0SWQgaW4gc3RhcnQgYW5kIGVuZCByYW5nZSBsb2NhdGlvbnMgc2hvdWxkIGJlIHRoZSBzYW1lLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0UG9zc2libGVCcmVha3BvaW50cyhwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5nZXRQb3NzaWJsZUJyZWFrcG9pbnRzKTogUHJvbWlzZTxEZWJ1Z2dlci5SZXN1bHQuZ2V0UG9zc2libGVCcmVha3BvaW50cz57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxEZWJ1Z2dlci5SZXN1bHQuZ2V0UG9zc2libGVCcmVha3BvaW50cz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLmdldFBvc3NpYmxlQnJlYWtwb2ludHMnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5nZXRQb3NzaWJsZUJyZWFrcG9pbnRzJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBEZWJ1Z2dlci5SZXN1bHQuZ2V0UG9zc2libGVCcmVha3BvaW50cylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIENvbnRpbnVlcyBleGVjdXRpb24gdW50aWwgc3BlY2lmaWMgbG9jYXRpb24gaXMgcmVhY2hlZC4gKi9cbiAgICBwdWJsaWMgYXN5bmMgY29udGludWVUb0xvY2F0aW9uKHBhcmFtczogRGVidWdnZXIuUGFyYW1zLmNvbnRpbnVlVG9Mb2NhdGlvbik6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLmNvbnRpbnVlVG9Mb2NhdGlvbicsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLmNvbnRpbnVlVG9Mb2NhdGlvbicpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBTdGVwcyBvdmVyIHRoZSBzdGF0ZW1lbnQuICovXG4gICAgcHVibGljIGFzeW5jIHN0ZXBPdmVyKCk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnN0ZXBPdmVyJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5zdGVwT3ZlcicpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBTdGVwcyBpbnRvIHRoZSBmdW5jdGlvbiBjYWxsLiAqL1xuICAgIHB1YmxpYyBhc3luYyBzdGVwSW50bygpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5zdGVwSW50bycsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnRGVidWdnZXIuc3RlcEludG8nKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogU3RlcHMgb3V0IG9mIHRoZSBmdW5jdGlvbiBjYWxsLiAqL1xuICAgIHB1YmxpYyBhc3luYyBzdGVwT3V0KCk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnN0ZXBPdXQnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnN0ZXBPdXQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogU3RvcHMgb24gdGhlIG5leHQgSmF2YVNjcmlwdCBzdGF0ZW1lbnQuICovXG4gICAgcHVibGljIGFzeW5jIHBhdXNlKCk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnBhdXNlJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5wYXVzZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0ZXBzIGludG8gbmV4dCBzY2hlZHVsZWQgYXN5bmMgdGFzayBpZiBhbnkgaXMgc2NoZWR1bGVkIGJlZm9yZSBuZXh0IHBhdXNlLiBSZXR1cm5zIHN1Y2Nlc3Mgd2hlbiBhc3luYyB0YXNrIGlzIGFjdHVhbGx5IHNjaGVkdWxlZCwgcmV0dXJucyBlcnJvciBpZiBubyB0YXNrIHdlcmUgc2NoZWR1bGVkIG9yIGFub3RoZXIgc2NoZWR1bGVTdGVwSW50b0FzeW5jIHdhcyBjYWxsZWQuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBzY2hlZHVsZVN0ZXBJbnRvQXN5bmMoKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2NoZWR1bGVTdGVwSW50b0FzeW5jJywge30sIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5zY2hlZHVsZVN0ZXBJbnRvQXN5bmMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogUmVzdW1lcyBKYXZhU2NyaXB0IGV4ZWN1dGlvbi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgcmVzdW1lKCk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnJlc3VtZScsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnRGVidWdnZXIucmVzdW1lJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgZm9yIGdpdmVuIHN0cmluZyBpbiBzY3JpcHQgY29udGVudC5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHNlYXJjaEluQ29udGVudChwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZWFyY2hJbkNvbnRlbnQpOiBQcm9taXNlPERlYnVnZ2VyLlJlc3VsdC5zZWFyY2hJbkNvbnRlbnQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnNlYXJjaEluQ29udGVudD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnNlYXJjaEluQ29udGVudCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNlYXJjaEluQ29udGVudCcpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LnNlYXJjaEluQ29udGVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIEVkaXRzIEphdmFTY3JpcHQgc291cmNlIGxpdmUuICovXG4gICAgcHVibGljIGFzeW5jIHNldFNjcmlwdFNvdXJjZShwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRTY3JpcHRTb3VyY2UpOiBQcm9taXNlPERlYnVnZ2VyLlJlc3VsdC5zZXRTY3JpcHRTb3VyY2U+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnNldFNjcmlwdFNvdXJjZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnNldFNjcmlwdFNvdXJjZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldFNjcmlwdFNvdXJjZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LnNldFNjcmlwdFNvdXJjZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJlc3RhcnRzIHBhcnRpY3VsYXIgY2FsbCBmcmFtZSBmcm9tIHRoZSBiZWdpbm5pbmcuICovXG4gICAgcHVibGljIGFzeW5jIHJlc3RhcnRGcmFtZShwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5yZXN0YXJ0RnJhbWUpOiBQcm9taXNlPERlYnVnZ2VyLlJlc3VsdC5yZXN0YXJ0RnJhbWU+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LnJlc3RhcnRGcmFtZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLnJlc3RhcnRGcmFtZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnJlc3RhcnRGcmFtZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LnJlc3RhcnRGcmFtZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgc291cmNlIGZvciB0aGUgc2NyaXB0IHdpdGggZ2l2ZW4gaWQuICovXG4gICAgcHVibGljIGFzeW5jIGdldFNjcmlwdFNvdXJjZShwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5nZXRTY3JpcHRTb3VyY2UpOiBQcm9taXNlPERlYnVnZ2VyLlJlc3VsdC5nZXRTY3JpcHRTb3VyY2U+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8RGVidWdnZXIuUmVzdWx0LmdldFNjcmlwdFNvdXJjZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLmdldFNjcmlwdFNvdXJjZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLmdldFNjcmlwdFNvdXJjZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgRGVidWdnZXIuUmVzdWx0LmdldFNjcmlwdFNvdXJjZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIERlZmluZXMgcGF1c2Ugb24gZXhjZXB0aW9ucyBzdGF0ZS4gQ2FuIGJlIHNldCB0byBzdG9wIG9uIGFsbCBleGNlcHRpb25zLCB1bmNhdWdodCBleGNlcHRpb25zIG9yIG5vIGV4Y2VwdGlvbnMuIEluaXRpYWwgcGF1c2Ugb24gZXhjZXB0aW9ucyBzdGF0ZSBpcyA8Y29kZT5ub25lPC9jb2RlPi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0UGF1c2VPbkV4Y2VwdGlvbnMocGFyYW1zOiBEZWJ1Z2dlci5QYXJhbXMuc2V0UGF1c2VPbkV4Y2VwdGlvbnMpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdEZWJ1Z2dlci5zZXRQYXVzZU9uRXhjZXB0aW9ucycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIEV2YWx1YXRlcyBleHByZXNzaW9uIG9uIGEgZ2l2ZW4gY2FsbCBmcmFtZS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZXZhbHVhdGVPbkNhbGxGcmFtZShwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5ldmFsdWF0ZU9uQ2FsbEZyYW1lKTogUHJvbWlzZTxEZWJ1Z2dlci5SZXN1bHQuZXZhbHVhdGVPbkNhbGxGcmFtZT57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxEZWJ1Z2dlci5SZXN1bHQuZXZhbHVhdGVPbkNhbGxGcmFtZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0RlYnVnZ2VyLmV2YWx1YXRlT25DYWxsRnJhbWUnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdEZWJ1Z2dlci5ldmFsdWF0ZU9uQ2FsbEZyYW1lJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBEZWJ1Z2dlci5SZXN1bHQuZXZhbHVhdGVPbkNhbGxGcmFtZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIENoYW5nZXMgdmFsdWUgb2YgdmFyaWFibGUgaW4gYSBjYWxsZnJhbWUuIE9iamVjdC1iYXNlZCBzY29wZXMgYXJlIG5vdCBzdXBwb3J0ZWQgYW5kIG11c3QgYmUgbXV0YXRlZCBtYW51YWxseS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0VmFyaWFibGVWYWx1ZShwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRWYXJpYWJsZVZhbHVlKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2V0VmFyaWFibGVWYWx1ZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldFZhcmlhYmxlVmFsdWUnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogRW5hYmxlcyBvciBkaXNhYmxlcyBhc3luYyBjYWxsIHN0YWNrcyB0cmFja2luZy4gKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0QXN5bmNDYWxsU3RhY2tEZXB0aChwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRBc3luY0NhbGxTdGFja0RlcHRoKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2V0QXN5bmNDYWxsU3RhY2tEZXB0aCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldEFzeW5jQ2FsbFN0YWNrRGVwdGgnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlIHByZXZpb3VzIGJsYWNrYm94IHBhdHRlcm5zIHdpdGggcGFzc2VkIG9uZXMuIEZvcmNlcyBiYWNrZW5kIHRvIHNraXAgc3RlcHBpbmcvcGF1c2luZyBpbiBzY3JpcHRzIHdpdGggdXJsIG1hdGNoaW5nIG9uZSBvZiB0aGUgcGF0dGVybnMuIFZNIHdpbGwgdHJ5IHRvIGxlYXZlIGJsYWNrYm94ZWQgc2NyaXB0IGJ5IHBlcmZvcm1pbmcgJ3N0ZXAgaW4nIHNldmVyYWwgdGltZXMsIGZpbmFsbHkgcmVzb3J0aW5nIHRvICdzdGVwIG91dCcgaWYgdW5zdWNjZXNzZnVsLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0QmxhY2tib3hQYXR0ZXJucyhwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRCbGFja2JveFBhdHRlcm5zKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2V0QmxhY2tib3hQYXR0ZXJucycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldEJsYWNrYm94UGF0dGVybnMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBiYWNrZW5kIHNraXAgc3RlcHMgaW4gdGhlIHNjcmlwdCBpbiBibGFja2JveGVkIHJhbmdlcy4gVk0gd2lsbCB0cnkgbGVhdmUgYmxhY2tsaXN0ZWQgc2NyaXB0cyBieSBwZXJmb3JtaW5nICdzdGVwIGluJyBzZXZlcmFsIHRpbWVzLCBmaW5hbGx5IHJlc29ydGluZyB0byAnc3RlcCBvdXQnIGlmIHVuc3VjY2Vzc2Z1bC4gUG9zaXRpb25zIGFycmF5IGNvbnRhaW5zIHBvc2l0aW9ucyB3aGVyZSBibGFja2JveCBzdGF0ZSBpcyBjaGFuZ2VkLiBGaXJzdCBpbnRlcnZhbCBpc24ndCBibGFja2JveGVkLiBBcnJheSBzaG91bGQgYmUgc29ydGVkLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0QmxhY2tib3hlZFJhbmdlcyhwYXJhbXM6IERlYnVnZ2VyLlBhcmFtcy5zZXRCbGFja2JveGVkUmFuZ2VzKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnRGVidWdnZXIuc2V0QmxhY2tib3hlZFJhbmdlcycsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ0RlYnVnZ2VyLnNldEJsYWNrYm94ZWRSYW5nZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGVidWdnZXIiXX0=