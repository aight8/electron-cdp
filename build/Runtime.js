"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const EventEmitter = require("events");
const DebuggerError_1 = require("./DebuggerError");
/**
 * Runtime domain exposes JavaScript runtime by means of remote evaluation and mirror objects. Evaluation results are returned as mirror object that expose object type, string representation and unique identifier that can be used for further object reference. Original objects are maintained in memory unless they are either explicitly released or are released along with the other objects in their object group.
 */
class Runtime {
    constructor(dbg /* Electron.Debugger*/) {
        this.dbg = dbg; /* Electron.Debugger*/
        this.events = new EventEmitter();
        this.dbg.on('message', (event, method, params) => {
            const [domain, domainMethod] = method.split('.');
            this.events.emit(domainMethod, params);
        });
        if (!this.dbg.isAttached()) {
            throw new Error(`Cannot create Runtime Domain Class because the debugger is not attached.`);
        }
    }
    on(event, listener) {
        this.events.on(event, listener);
    }
    once(event, listener) {
        this.events.on(event, listener);
    }
    assertError(error, commandName) {
        if ('message' in error && 'code' in error) {
            throw new DebuggerError_1.default(error.message, error.code, commandName);
        }
    }
    /** Evaluates expression on global object. */
    async evaluate(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.evaluate', params, (error, result) => {
                this.assertError(error, 'Runtime.evaluate');
                resolve(result);
            });
        });
    }
    /** Add handler to promise with given promise object id. */
    async awaitPromise(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.awaitPromise', params, (error, result) => {
                this.assertError(error, 'Runtime.awaitPromise');
                resolve(result);
            });
        });
    }
    /** Calls function with given declaration on the given object. Object group of the result is inherited from the target object. */
    async callFunctionOn(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.callFunctionOn', params, (error, result) => {
                this.assertError(error, 'Runtime.callFunctionOn');
                resolve(result);
            });
        });
    }
    /** Returns properties of a given object. Object group of the result is inherited from the target object. */
    async getProperties(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.getProperties', params, (error, result) => {
                this.assertError(error, 'Runtime.getProperties');
                resolve(result);
            });
        });
    }
    /** Releases remote object with given id. */
    async releaseObject(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.releaseObject', params, (error, result) => {
                this.assertError(error, 'Runtime.releaseObject');
                resolve();
            });
        });
    }
    /** Releases all remote objects that belong to a given group. */
    async releaseObjectGroup(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.releaseObjectGroup', params, (error, result) => {
                this.assertError(error, 'Runtime.releaseObjectGroup');
                resolve();
            });
        });
    }
    /** Tells inspected instance to run if it was waiting for debugger to attach. */
    async runIfWaitingForDebugger() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.runIfWaitingForDebugger', {}, (error, result) => {
                this.assertError(error, 'Runtime.runIfWaitingForDebugger');
                resolve();
            });
        });
    }
    /** Enables reporting of execution contexts creation by means of <code>executionContextCreated</code> event. When the reporting gets enabled the event will be sent immediately for each existing execution context. */
    async enable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.enable', {}, (error, result) => {
                this.assertError(error, 'Runtime.enable');
                resolve();
            });
        });
    }
    /** Disables reporting of execution contexts creation. */
    async disable() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.disable', {}, (error, result) => {
                this.assertError(error, 'Runtime.disable');
                resolve();
            });
        });
    }
    /** Discards collected exceptions and console API calls. */
    async discardConsoleEntries() {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.discardConsoleEntries', {}, (error, result) => {
                this.assertError(error, 'Runtime.discardConsoleEntries');
                resolve();
            });
        });
    }
    /**
     * No description
     * @experimental
     */
    async setCustomObjectFormatterEnabled(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.setCustomObjectFormatterEnabled', params, (error, result) => {
                this.assertError(error, 'Runtime.setCustomObjectFormatterEnabled');
                resolve();
            });
        });
    }
    /** Compiles expression. */
    async compileScript(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.compileScript', params, (error, result) => {
                this.assertError(error, 'Runtime.compileScript');
                resolve(result);
            });
        });
    }
    /** Runs script with given id in a given context. */
    async runScript(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Runtime.runScript', params, (error, result) => {
                this.assertError(error, 'Runtime.runScript');
                resolve(result);
            });
        });
    }
}
exports.default = Runtime;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUnVudGltZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL2dlbmVyYXRlZC10cy9SdW50aW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQXNDO0FBQ3RDLG1EQUEyQztBQWsxQjNDOztHQUVHO0FBQ0g7SUFHSSxZQUE2QixHQUFRLENBQUMsc0JBQXNCO1FBQS9CLFFBQUcsR0FBSCxHQUFHLENBQUssQ0FBQyxzQkFBc0I7UUFGcEQsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUE7UUFJL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBVSxFQUFFLE1BQVcsRUFBRSxNQUFXO1lBQ3hELE1BQU0sQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDMUMsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMsMEVBQTBFLENBQUMsQ0FBQTtRQUMvRixDQUFDO0lBQ0wsQ0FBQztJQUVNLEVBQUUsQ0FBQyxLQUFhLEVBQUUsUUFBa0I7UUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFTSxJQUFJLENBQUMsS0FBYSxFQUFFLFFBQWtCO1FBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRU8sV0FBVyxDQUFDLEtBQVUsRUFBRSxXQUFtQjtRQUMvQyxFQUFFLENBQUMsQ0FBQyxTQUFTLElBQUksS0FB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QUNuRSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyx1QkFBdUIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDMUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsdUJBQXVCLENBQUMsQ0FBQTtnQkFDaEQsT0FBTyxDQUFDLE1BQXNDLENBQUMsQ0FBQTtZQUNuRCxDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELG9EQUFvRDtJQUM3QyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQWdDO1FBQ25ELE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUEyQixDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQy9ELElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUN0RSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxDQUFBO2dCQUM1QyxPQUFPLENBQUMsTUFBa0MsQ0FBQyxDQUFBO1lBQy9DLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0NBRUo7QUFFRCxrQkFBZSxPQUFPLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJ1xuaW1wb3J0IERlYnVnZ2VyRXJyb3IgZnJvbSAnLi9EZWJ1Z2dlckVycm9yJ1xuXG5kZWNsYXJlIGludGVyZmFjZSBSdW50aW1lIHtcblxuICAgIC8qKiBJc3N1ZWQgd2hlbiBuZXcgZXhlY3V0aW9uIGNvbnRleHQgaXMgY3JlYXRlZC4gKi9cbiAgICBvbihldmVudDogJ2V4ZWN1dGlvbkNvbnRleHRDcmVhdGVkJywgbGlzdGVuZXI6IChwYXJhbXM6IFJ1bnRpbWUuRXZlbnRQYXJhbXMuZXhlY3V0aW9uQ29udGV4dENyZWF0ZWQpID0+IHZvaWQpOiB2b2lkXG4gICAgLyoqIElzc3VlZCB3aGVuIG5ldyBleGVjdXRpb24gY29udGV4dCBpcyBjcmVhdGVkLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdleGVjdXRpb25Db250ZXh0Q3JlYXRlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBSdW50aW1lLkV2ZW50UGFyYW1zLmV4ZWN1dGlvbkNvbnRleHRDcmVhdGVkKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIElzc3VlZCB3aGVuIGV4ZWN1dGlvbiBjb250ZXh0IGlzIGRlc3Ryb3llZC4gKi9cbiAgICBvbihldmVudDogJ2V4ZWN1dGlvbkNvbnRleHREZXN0cm95ZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogUnVudGltZS5FdmVudFBhcmFtcy5leGVjdXRpb25Db250ZXh0RGVzdHJveWVkKSA9PiB2b2lkKTogdm9pZFxuICAgIC8qKiBJc3N1ZWQgd2hlbiBleGVjdXRpb24gY29udGV4dCBpcyBkZXN0cm95ZWQuICovXG4gICAgb25jZShldmVudDogJ2V4ZWN1dGlvbkNvbnRleHREZXN0cm95ZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogUnVudGltZS5FdmVudFBhcmFtcy5leGVjdXRpb25Db250ZXh0RGVzdHJveWVkKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIElzc3VlZCB3aGVuIGFsbCBleGVjdXRpb25Db250ZXh0cyB3ZXJlIGNsZWFyZWQgaW4gYnJvd3NlciAqL1xuICAgIG9uKGV2ZW50OiAnZXhlY3V0aW9uQ29udGV4dHNDbGVhcmVkJywgbGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkXG4gICAgLyoqIElzc3VlZCB3aGVuIGFsbCBleGVjdXRpb25Db250ZXh0cyB3ZXJlIGNsZWFyZWQgaW4gYnJvd3NlciAqL1xuICAgIG9uY2UoZXZlbnQ6ICdleGVjdXRpb25Db250ZXh0c0NsZWFyZWQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWRcblxuICAgIC8qKiBJc3N1ZWQgd2hlbiBleGNlcHRpb24gd2FzIHRocm93biBhbmQgdW5oYW5kbGVkLiAqL1xuICAgIG9uKGV2ZW50OiAnZXhjZXB0aW9uVGhyb3duJywgbGlzdGVuZXI6IChwYXJhbXM6IFJ1bnRpbWUuRXZlbnRQYXJhbXMuZXhjZXB0aW9uVGhyb3duKSA9PiB2b2lkKTogdm9pZFxuICAgIC8qKiBJc3N1ZWQgd2hlbiBleGNlcHRpb24gd2FzIHRocm93biBhbmQgdW5oYW5kbGVkLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdleGNlcHRpb25UaHJvd24nLCBsaXN0ZW5lcjogKHBhcmFtczogUnVudGltZS5FdmVudFBhcmFtcy5leGNlcHRpb25UaHJvd24pID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKiogSXNzdWVkIHdoZW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiB3YXMgcmV2b2tlZC4gKi9cbiAgICBvbihldmVudDogJ2V4Y2VwdGlvblJldm9rZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogUnVudGltZS5FdmVudFBhcmFtcy5leGNlcHRpb25SZXZva2VkKSA9PiB2b2lkKTogdm9pZFxuICAgIC8qKiBJc3N1ZWQgd2hlbiB1bmhhbmRsZWQgZXhjZXB0aW9uIHdhcyByZXZva2VkLiAqL1xuICAgIG9uY2UoZXZlbnQ6ICdleGNlcHRpb25SZXZva2VkJywgbGlzdGVuZXI6IChwYXJhbXM6IFJ1bnRpbWUuRXZlbnRQYXJhbXMuZXhjZXB0aW9uUmV2b2tlZCkgPT4gdm9pZCk6IHZvaWRcblxuICAgIC8qKiBJc3N1ZWQgd2hlbiBjb25zb2xlIEFQSSB3YXMgY2FsbGVkLiAqL1xuICAgIG9uKGV2ZW50OiAnY29uc29sZUFQSUNhbGxlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBSdW50aW1lLkV2ZW50UGFyYW1zLmNvbnNvbGVBUElDYWxsZWQpID0+IHZvaWQpOiB2b2lkXG4gICAgLyoqIElzc3VlZCB3aGVuIGNvbnNvbGUgQVBJIHdhcyBjYWxsZWQuICovXG4gICAgb25jZShldmVudDogJ2NvbnNvbGVBUElDYWxsZWQnLCBsaXN0ZW5lcjogKHBhcmFtczogUnVudGltZS5FdmVudFBhcmFtcy5jb25zb2xlQVBJQ2FsbGVkKSA9PiB2b2lkKTogdm9pZFxuXG4gICAgLyoqIElzc3VlZCB3aGVuIG9iamVjdCBzaG91bGQgYmUgaW5zcGVjdGVkIChmb3IgZXhhbXBsZSwgYXMgYSByZXN1bHQgb2YgaW5zcGVjdCgpIGNvbW1hbmQgbGluZSBBUEkgY2FsbCkuICovXG4gICAgb24oZXZlbnQ6ICdpbnNwZWN0UmVxdWVzdGVkJywgbGlzdGVuZXI6IChwYXJhbXM6IFJ1bnRpbWUuRXZlbnRQYXJhbXMuaW5zcGVjdFJlcXVlc3RlZCkgPT4gdm9pZCk6IHZvaWRcbiAgICAvKiogSXNzdWVkIHdoZW4gb2JqZWN0IHNob3VsZCBiZSBpbnNwZWN0ZWQgKGZvciBleGFtcGxlLCBhcyBhIHJlc3VsdCBvZiBpbnNwZWN0KCkgY29tbWFuZCBsaW5lIEFQSSBjYWxsKS4gKi9cbiAgICBvbmNlKGV2ZW50OiAnaW5zcGVjdFJlcXVlc3RlZCcsIGxpc3RlbmVyOiAocGFyYW1zOiBSdW50aW1lLkV2ZW50UGFyYW1zLmluc3BlY3RSZXF1ZXN0ZWQpID0+IHZvaWQpOiB2b2lkXG5cbn1cblxubW9kdWxlIFJ1bnRpbWUge1xuICAgIC8qKioqKioqKioqKioqKipcbiAgICAgKioqKiBUeXBlcyAqKioqXG4gICAgICoqKioqKioqKioqKioqL1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIHNjcmlwdCBpZGVudGlmaWVyLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBTY3JpcHRJZCA9IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIG9iamVjdCBpZGVudGlmaWVyLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBSZW1vdGVPYmplY3RJZCA9IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogUHJpbWl0aXZlIHZhbHVlIHdoaWNoIGNhbm5vdCBiZSBKU09OLXN0cmluZ2lmaWVkLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBVbnNlcmlhbGl6YWJsZVZhbHVlID0gJ0luZmluaXR5JyB8ICdOYU4nIHwgJy1JbmZpbml0eScgfCAnLTAnXG5cbiAgICAvKipcbiAgICAgKiBNaXJyb3Igb2JqZWN0IHJlZmVyZW5jaW5nIG9yaWdpbmFsIEphdmFTY3JpcHQgb2JqZWN0LlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBSZW1vdGVPYmplY3QgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdHlwZS4gKi9cbiAgICAgICAgdHlwZTogJ29iamVjdCcgfCAnZnVuY3Rpb24nIHwgJ3VuZGVmaW5lZCcgfCAnc3RyaW5nJyB8ICdudW1iZXInIHwgJ2Jvb2xlYW4nIHwgJ3N5bWJvbCdcblxuICAgICAgICAvKipcbiAgICAgICAgICogT2JqZWN0IHN1YnR5cGUgaGludC4gU3BlY2lmaWVkIGZvciA8Y29kZT5vYmplY3Q8L2NvZGU+IHR5cGUgdmFsdWVzIG9ubHkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgc3VidHlwZT86ICdhcnJheScgfCAnbnVsbCcgfCAnbm9kZScgfCAncmVnZXhwJyB8ICdkYXRlJyB8ICdtYXAnIHwgJ3NldCcgfCAnd2Vha21hcCcgfCAnd2Vha3NldCcgfCAnaXRlcmF0b3InIHwgJ2dlbmVyYXRvcicgfCAnZXJyb3InIHwgJ3Byb3h5JyB8XG4gICAgICAgICAgICAncHJvbWlzZScgfCAndHlwZWRhcnJheSdcblxuICAgICAgICAvKipcbiAgICAgICAgICogT2JqZWN0IGNsYXNzIChjb25zdHJ1Y3RvcikgbmFtZS4gU3BlY2lmaWVkIGZvciA8Y29kZT5vYmplY3Q8L2NvZGU+IHR5cGUgdmFsdWVzIG9ubHkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lPzogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW90ZSBvYmplY3QgdmFsdWUgaW4gY2FzZSBvZiBwcmltaXRpdmUgdmFsdWVzIG9yIEpTT04gdmFsdWVzIChpZiBpdCB3YXMgcmVxdWVzdGVkKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZT86IGFueVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmltaXRpdmUgdmFsdWUgd2hpY2ggY2FuIG5vdCBiZSBKU09OLXN0cmluZ2lmaWVkIGRvZXMgbm90IGhhdmUgPGNvZGU+dmFsdWU8L2NvZGU+LCBidXQgZ2V0cyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHVuc2VyaWFsaXphYmxlVmFsdWU/OiBVbnNlcmlhbGl6YWJsZVZhbHVlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBvYmplY3QgaWRlbnRpZmllciAoZm9yIG5vbi1wcmltaXRpdmUgdmFsdWVzKS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBvYmplY3RJZD86IFJlbW90ZU9iamVjdElkXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXZpZXcgY29udGFpbmluZyBhYmJyZXZpYXRlZCBwcm9wZXJ0eSB2YWx1ZXMuIFNwZWNpZmllZCBmb3IgPGNvZGU+b2JqZWN0PC9jb2RlPiB0eXBlIHZhbHVlcyBvbmx5LlxuICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgcHJldmlldz86IE9iamVjdFByZXZpZXdcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gZGVzY3JpcHRpb25cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGN1c3RvbVByZXZpZXc/OiBDdXN0b21QcmV2aWV3XG4gICAgfVxuXG4gICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICBleHBvcnQgdHlwZSBDdXN0b21QcmV2aWV3ID0ge1xuICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgaGVhZGVyOiBzdHJpbmdcblxuICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgaGFzQm9keTogYm9vbGVhblxuXG4gICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICBmb3JtYXR0ZXJPYmplY3RJZDogUmVtb3RlT2JqZWN0SWRcblxuICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgYmluZFJlbW90ZU9iamVjdEZ1bmN0aW9uSWQ6IFJlbW90ZU9iamVjdElkXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnT2JqZWN0SWQ/OiBSZW1vdGVPYmplY3RJZFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBjb250YWluaW5nIGFiYnJldmlhdGVkIHJlbW90ZSBvYmplY3QgdmFsdWUuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIE9iamVjdFByZXZpZXcgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdHlwZS4gKi9cbiAgICAgICAgdHlwZTogJ29iamVjdCcgfCAnZnVuY3Rpb24nIHwgJ3VuZGVmaW5lZCcgfCAnc3RyaW5nJyB8ICdudW1iZXInIHwgJ2Jvb2xlYW4nIHwgJ3N5bWJvbCdcblxuICAgICAgICAvKipcbiAgICAgICAgICogT2JqZWN0IHN1YnR5cGUgaGludC4gU3BlY2lmaWVkIGZvciA8Y29kZT5vYmplY3Q8L2NvZGU+IHR5cGUgdmFsdWVzIG9ubHkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgc3VidHlwZT86ICdhcnJheScgfCAnbnVsbCcgfCAnbm9kZScgfCAncmVnZXhwJyB8ICdkYXRlJyB8ICdtYXAnIHwgJ3NldCcgfCAnd2Vha21hcCcgfCAnd2Vha3NldCcgfCAnaXRlcmF0b3InIHwgJ2dlbmVyYXRvcicgfCAnZXJyb3InXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXG5cbiAgICAgICAgLyoqIFRydWUgaWZmIHNvbWUgb2YgdGhlIHByb3BlcnRpZXMgb3IgZW50cmllcyBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0IGRpZCBub3QgZml0LiAqL1xuICAgICAgICBvdmVyZmxvdzogYm9vbGVhblxuXG4gICAgICAgIC8qKiBMaXN0IG9mIHRoZSBwcm9wZXJ0aWVzLiAqL1xuICAgICAgICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eVByZXZpZXdbXVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIHRoZSBlbnRyaWVzLiBTcGVjaWZpZWQgZm9yIDxjb2RlPm1hcDwvY29kZT4gYW5kIDxjb2RlPnNldDwvY29kZT4gc3VidHlwZSB2YWx1ZXMgb25seS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBlbnRyaWVzPzogRW50cnlQcmV2aWV3W11cbiAgICB9XG5cbiAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgIGV4cG9ydCB0eXBlIFByb3BlcnR5UHJldmlldyA9IHtcbiAgICAgICAgLyoqIFByb3BlcnR5IG5hbWUuICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuXG4gICAgICAgIC8qKiBPYmplY3QgdHlwZS4gQWNjZXNzb3IgbWVhbnMgdGhhdCB0aGUgcHJvcGVydHkgaXRzZWxmIGlzIGFuIGFjY2Vzc29yIHByb3BlcnR5LiAqL1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyB8ICdmdW5jdGlvbicgfCAndW5kZWZpbmVkJyB8ICdzdHJpbmcnIHwgJ251bWJlcicgfCAnYm9vbGVhbicgfCAnc3ltYm9sJyB8ICdhY2Nlc3NvcidcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1mcmllbmRseSBwcm9wZXJ0eSB2YWx1ZSBzdHJpbmcuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWU/OiBzdHJpbmdcblxuICAgICAgICAvKipcbiAgICAgICAgICogTmVzdGVkIHZhbHVlIHByZXZpZXcuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWVQcmV2aWV3PzogT2JqZWN0UHJldmlld1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPYmplY3Qgc3VidHlwZSBoaW50LiBTcGVjaWZpZWQgZm9yIDxjb2RlPm9iamVjdDwvY29kZT4gdHlwZSB2YWx1ZXMgb25seS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzdWJ0eXBlPzogJ2FycmF5JyB8ICdudWxsJyB8ICdub2RlJyB8ICdyZWdleHAnIHwgJ2RhdGUnIHwgJ21hcCcgfCAnc2V0JyB8ICd3ZWFrbWFwJyB8ICd3ZWFrc2V0JyB8ICdpdGVyYXRvcicgfCAnZ2VuZXJhdG9yJyB8ICdlcnJvcidcbiAgICB9XG5cbiAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5UHJldmlldyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXZpZXcgb2YgdGhlIGtleS4gU3BlY2lmaWVkIGZvciBtYXAtbGlrZSBjb2xsZWN0aW9uIGVudHJpZXMuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAga2V5PzogT2JqZWN0UHJldmlld1xuXG4gICAgICAgIC8qKiBQcmV2aWV3IG9mIHRoZSB2YWx1ZS4gKi9cbiAgICAgICAgdmFsdWU6IE9iamVjdFByZXZpZXdcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgcHJvcGVydHkgZGVzY3JpcHRvci5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgUHJvcGVydHlEZXNjcmlwdG9yID0ge1xuICAgICAgICAvKiogUHJvcGVydHkgbmFtZSBvciBzeW1ib2wgZGVzY3JpcHRpb24uICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm9wZXJ0eS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZT86IFJlbW90ZU9iamVjdFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIGlmIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3BlcnR5IG1heSBiZSBjaGFuZ2VkIChkYXRhIGRlc2NyaXB0b3JzIG9ubHkpLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHdyaXRhYmxlPzogYm9vbGVhblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZ1bmN0aW9uIHdoaWNoIHNlcnZlcyBhcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIHRoZXJlIGlzIG5vIGdldHRlciAoYWNjZXNzb3IgZGVzY3JpcHRvcnMgb25seSkuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0PzogUmVtb3RlT2JqZWN0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZnVuY3Rpb24gd2hpY2ggc2VydmVzIGFzIGEgc2V0dGVyIGZvciB0aGUgcHJvcGVydHksIG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgdGhlcmUgaXMgbm8gc2V0dGVyIChhY2Nlc3NvciBkZXNjcmlwdG9ycyBvbmx5KS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ/OiBSZW1vdGVPYmplY3RcblxuICAgICAgICAvKiogVHJ1ZSBpZiB0aGUgdHlwZSBvZiB0aGlzIHByb3BlcnR5IGRlc2NyaXB0b3IgbWF5IGJlIGNoYW5nZWQgYW5kIGlmIHRoZSBwcm9wZXJ0eSBtYXkgYmUgZGVsZXRlZCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIG9iamVjdC4gKi9cbiAgICAgICAgY29uZmlndXJhYmxlOiBib29sZWFuXG5cbiAgICAgICAgLyoqIFRydWUgaWYgdGhpcyBwcm9wZXJ0eSBzaG93cyB1cCBkdXJpbmcgZW51bWVyYXRpb24gb2YgdGhlIHByb3BlcnRpZXMgb24gdGhlIGNvcnJlc3BvbmRpbmcgb2JqZWN0LiAqL1xuICAgICAgICBlbnVtZXJhYmxlOiBib29sZWFuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRydWUgaWYgdGhlIHJlc3VsdCB3YXMgdGhyb3duIGR1cmluZyB0aGUgZXZhbHVhdGlvbi5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB3YXNUaHJvd24/OiBib29sZWFuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRydWUgaWYgdGhlIHByb3BlcnR5IGlzIG93bmVkIGZvciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGlzT3duPzogYm9vbGVhblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9wZXJ0eSBzeW1ib2wgb2JqZWN0LCBpZiB0aGUgcHJvcGVydHkgaXMgb2YgdGhlIDxjb2RlPnN5bWJvbDwvY29kZT4gdHlwZS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzeW1ib2w/OiBSZW1vdGVPYmplY3RcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgaW50ZXJuYWwgcHJvcGVydHkgZGVzY3JpcHRvci4gVGhpcyBwcm9wZXJ0eSBpc24ndCBub3JtYWxseSB2aXNpYmxlIGluIEphdmFTY3JpcHQgY29kZS5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgSW50ZXJuYWxQcm9wZXJ0eURlc2NyaXB0b3IgPSB7XG4gICAgICAgIC8qKiBDb252ZW50aW9uYWwgcHJvcGVydHkgbmFtZS4gKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3BlcnR5LlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlPzogUmVtb3RlT2JqZWN0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBmdW5jdGlvbiBjYWxsIGFyZ3VtZW50LiBFaXRoZXIgcmVtb3RlIG9iamVjdCBpZCA8Y29kZT5vYmplY3RJZDwvY29kZT4sIHByaW1pdGl2ZSA8Y29kZT52YWx1ZTwvY29kZT4sIHVuc2VyaWFsaXphYmxlIHByaW1pdGl2ZSB2YWx1ZSBvciBuZWl0aGVyIG9mIChmb3IgdW5kZWZpbmVkKSB0aGVtIHNob3VsZCBiZSBzcGVjaWZpZWQuXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIENhbGxBcmd1bWVudCA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaW1pdGl2ZSB2YWx1ZS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZT86IGFueVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmltaXRpdmUgdmFsdWUgd2hpY2ggY2FuIG5vdCBiZSBKU09OLXN0cmluZ2lmaWVkLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHVuc2VyaWFsaXphYmxlVmFsdWU/OiBVbnNlcmlhbGl6YWJsZVZhbHVlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW90ZSBvYmplY3QgaGFuZGxlLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIG9iamVjdElkPzogUmVtb3RlT2JqZWN0SWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZCBvZiBhbiBleGVjdXRpb24gY29udGV4dC5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgRXhlY3V0aW9uQ29udGV4dElkID0gbnVtYmVyXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvbiBvZiBhbiBpc29sYXRlZCB3b3JsZC5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgRXhlY3V0aW9uQ29udGV4dERlc2NyaXB0aW9uID0ge1xuICAgICAgICAvKiogVW5pcXVlIGlkIG9mIHRoZSBleGVjdXRpb24gY29udGV4dC4gSXQgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBpbiB3aGljaCBleGVjdXRpb24gY29udGV4dCBzY3JpcHQgZXZhbHVhdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkLiAqL1xuICAgICAgICBpZDogRXhlY3V0aW9uQ29udGV4dElkXG5cbiAgICAgICAgLyoqIEV4ZWN1dGlvbiBjb250ZXh0IG9yaWdpbi4gKi9cbiAgICAgICAgb3JpZ2luOiBzdHJpbmdcblxuICAgICAgICAvKiogSHVtYW4gcmVhZGFibGUgbmFtZSBkZXNjcmliaW5nIGdpdmVuIGNvbnRleHQuICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWJlZGRlci1zcGVjaWZpYyBhdXhpbGlhcnkgZGF0YS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBhdXhEYXRhPzogb2JqZWN0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgZXhjZXB0aW9uIChvciBlcnJvcikgdGhhdCB3YXMgdGhyb3duIGR1cmluZyBzY3JpcHQgY29tcGlsYXRpb24gb3IgZXhlY3V0aW9uLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBFeGNlcHRpb25EZXRhaWxzID0ge1xuICAgICAgICAvKiogRXhjZXB0aW9uIGlkLiAqL1xuICAgICAgICBleGNlcHRpb25JZDogbnVtYmVyXG5cbiAgICAgICAgLyoqIEV4Y2VwdGlvbiB0ZXh0LCB3aGljaCBzaG91bGQgYmUgdXNlZCB0b2dldGhlciB3aXRoIGV4Y2VwdGlvbiBvYmplY3Qgd2hlbiBhdmFpbGFibGUuICovXG4gICAgICAgIHRleHQ6IHN0cmluZ1xuXG4gICAgICAgIC8qKiBMaW5lIG51bWJlciBvZiB0aGUgZXhjZXB0aW9uIGxvY2F0aW9uICgwLWJhc2VkKS4gKi9cbiAgICAgICAgbGluZU51bWJlcjogbnVtYmVyXG5cbiAgICAgICAgLyoqIENvbHVtbiBudW1iZXIgb2YgdGhlIGV4Y2VwdGlvbiBsb2NhdGlvbiAoMC1iYXNlZCkuICovXG4gICAgICAgIGNvbHVtbk51bWJlcjogbnVtYmVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcmlwdCBJRCBvZiB0aGUgZXhjZXB0aW9uIGxvY2F0aW9uLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHNjcmlwdElkPzogU2NyaXB0SWRcblxuICAgICAgICAvKipcbiAgICAgICAgICogVVJMIG9mIHRoZSBleGNlcHRpb24gbG9jYXRpb24sIHRvIGJlIHVzZWQgd2hlbiB0aGUgc2NyaXB0IHdhcyBub3QgcmVwb3J0ZWQuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgdXJsPzogc3RyaW5nXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEphdmFTY3JpcHQgc3RhY2sgdHJhY2UgaWYgYXZhaWxhYmxlLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0YWNrVHJhY2U/OiBTdGFja1RyYWNlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4Y2VwdGlvbiBvYmplY3QgaWYgYXZhaWxhYmxlLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGV4Y2VwdGlvbj86IFJlbW90ZU9iamVjdFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZGVudGlmaWVyIG9mIHRoZSBjb250ZXh0IHdoZXJlIGV4Y2VwdGlvbiBoYXBwZW5lZC5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBleGVjdXRpb25Db250ZXh0SWQ/OiBFeGVjdXRpb25Db250ZXh0SWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoLlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBUaW1lc3RhbXAgPSBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIFN0YWNrIGVudHJ5IGZvciBydW50aW1lIGVycm9ycyBhbmQgYXNzZXJ0aW9ucy5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgQ2FsbEZyYW1lID0ge1xuICAgICAgICAvKiogSmF2YVNjcmlwdCBmdW5jdGlvbiBuYW1lLiAqL1xuICAgICAgICBmdW5jdGlvbk5hbWU6IHN0cmluZ1xuXG4gICAgICAgIC8qKiBKYXZhU2NyaXB0IHNjcmlwdCBpZC4gKi9cbiAgICAgICAgc2NyaXB0SWQ6IFNjcmlwdElkXG5cbiAgICAgICAgLyoqIEphdmFTY3JpcHQgc2NyaXB0IG5hbWUgb3IgdXJsLiAqL1xuICAgICAgICB1cmw6IHN0cmluZ1xuXG4gICAgICAgIC8qKiBKYXZhU2NyaXB0IHNjcmlwdCBsaW5lIG51bWJlciAoMC1iYXNlZCkuICovXG4gICAgICAgIGxpbmVOdW1iZXI6IG51bWJlclxuXG4gICAgICAgIC8qKiBKYXZhU2NyaXB0IHNjcmlwdCBjb2x1bW4gbnVtYmVyICgwLWJhc2VkKS4gKi9cbiAgICAgICAgY29sdW1uTnVtYmVyOiBudW1iZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGZyYW1lcyBmb3IgYXNzZXJ0aW9ucyBvciBlcnJvciBtZXNzYWdlcy5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgU3RhY2tUcmFjZSA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0cmluZyBsYWJlbCBvZiB0aGlzIHN0YWNrIHRyYWNlLiBGb3IgYXN5bmMgdHJhY2VzIHRoaXMgbWF5IGJlIGEgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBpbml0aWF0ZWQgdGhlIGFzeW5jIGNhbGwuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcblxuICAgICAgICAvKiogSmF2YVNjcmlwdCBmdW5jdGlvbiBuYW1lLiAqL1xuICAgICAgICBjYWxsRnJhbWVzOiBDYWxsRnJhbWVbXVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3luY2hyb25vdXMgSmF2YVNjcmlwdCBzdGFjayB0cmFjZSB0aGF0IHByZWNlZGVkIHRoaXMgc3RhY2ssIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICBwYXJlbnQ/OiBTdGFja1RyYWNlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0aW9uIGZyYW1lIG9mIHRoZSBQcm9taXNlIHdoaWNoIHByb2R1Y2VkIHRoZSBuZXh0IHN5bmNocm9ub3VzIHRyYWNlIHdoZW4gcmVzb2x2ZWQsIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHByb21pc2VDcmVhdGlvbkZyYW1lPzogQ2FsbEZyYW1lXG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKioqKiBDb21tYW5kIFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgZXhwb3J0IG1vZHVsZSBQYXJhbXMge1xuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBldmFsdWF0ZSA9IHtcbiAgICAgICAgICAgIC8qKiBFeHByZXNzaW9uIHRvIGV2YWx1YXRlLiAqL1xuICAgICAgICAgICAgZXhwcmVzc2lvbjogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3ltYm9saWMgZ3JvdXAgbmFtZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlbGVhc2UgbXVsdGlwbGUgb2JqZWN0cy5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvYmplY3RHcm91cD86IHN0cmluZ1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERldGVybWluZXMgd2hldGhlciBDb21tYW5kIExpbmUgQVBJIHNob3VsZCBiZSBhdmFpbGFibGUgZHVyaW5nIHRoZSBldmFsdWF0aW9uLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluY2x1ZGVDb21tYW5kTGluZUFQST86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbiBzaWxlbnQgbW9kZSBleGNlcHRpb25zIHRocm93biBkdXJpbmcgZXZhbHVhdGlvbiBhcmUgbm90IHJlcG9ydGVkIGFuZCBkbyBub3QgcGF1c2UgZXhlY3V0aW9uLiBPdmVycmlkZXMgPGNvZGU+c2V0UGF1c2VPbkV4Y2VwdGlvbjwvY29kZT4gc3RhdGUuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2lsZW50PzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNwZWNpZmllcyBpbiB3aGljaCBleGVjdXRpb24gY29udGV4dCB0byBwZXJmb3JtIGV2YWx1YXRpb24uIElmIHRoZSBwYXJhbWV0ZXIgaXMgb21pdHRlZCB0aGUgZXZhbHVhdGlvbiB3aWxsIGJlIHBlcmZvcm1lZCBpbiB0aGUgY29udGV4dCBvZiB0aGUgaW5zcGVjdGVkIHBhZ2UuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udGV4dElkPzogRXhlY3V0aW9uQ29udGV4dElkXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciB0aGUgcmVzdWx0IGlzIGV4cGVjdGVkIHRvIGJlIGEgSlNPTiBvYmplY3QgdGhhdCBzaG91bGQgYmUgc2VudCBieSB2YWx1ZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm5CeVZhbHVlPzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgcHJldmlldyBzaG91bGQgYmUgZ2VuZXJhdGVkIGZvciB0aGUgcmVzdWx0LlxuICAgICAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdlbmVyYXRlUHJldmlldz86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIGV4ZWN1dGlvbiBzaG91bGQgYmUgdHJlYXRlZCBhcyBpbml0aWF0ZWQgYnkgdXNlciBpbiB0aGUgVUkuXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdXNlckdlc3R1cmU/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciBleGVjdXRpb24gc2hvdWxkIHdhaXQgZm9yIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQuIElmIHRoZSByZXN1bHQgb2YgZXZhbHVhdGlvbiBpcyBub3QgYSBQcm9taXNlLCBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgYW4gZXJyb3IuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXdhaXRQcm9taXNlPzogYm9vbGVhblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgYXdhaXRQcm9taXNlID0ge1xuICAgICAgICAgICAgLyoqIElkZW50aWZpZXIgb2YgdGhlIHByb21pc2UuICovXG4gICAgICAgICAgICBwcm9taXNlT2JqZWN0SWQ6IFJlbW90ZU9iamVjdElkXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciB0aGUgcmVzdWx0IGlzIGV4cGVjdGVkIHRvIGJlIGEgSlNPTiBvYmplY3QgdGhhdCBzaG91bGQgYmUgc2VudCBieSB2YWx1ZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm5CeVZhbHVlPzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgcHJldmlldyBzaG91bGQgYmUgZ2VuZXJhdGVkIGZvciB0aGUgcmVzdWx0LlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdlbmVyYXRlUHJldmlldz86IGJvb2xlYW5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGNhbGxGdW5jdGlvbk9uID0ge1xuICAgICAgICAgICAgLyoqIElkZW50aWZpZXIgb2YgdGhlIG9iamVjdCB0byBjYWxsIGZ1bmN0aW9uIG9uLiAqL1xuICAgICAgICAgICAgb2JqZWN0SWQ6IFJlbW90ZU9iamVjdElkXG5cbiAgICAgICAgICAgIC8qKiBEZWNsYXJhdGlvbiBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb246IHN0cmluZ1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGwgYXJndW1lbnRzLiBBbGwgY2FsbCBhcmd1bWVudHMgbXVzdCBiZWxvbmcgdG8gdGhlIHNhbWUgSmF2YVNjcmlwdCB3b3JsZCBhcyB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhcmd1bWVudHM/OiBDYWxsQXJndW1lbnRbXVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluIHNpbGVudCBtb2RlIGV4Y2VwdGlvbnMgdGhyb3duIGR1cmluZyBldmFsdWF0aW9uIGFyZSBub3QgcmVwb3J0ZWQgYW5kIGRvIG5vdCBwYXVzZSBleGVjdXRpb24uIE92ZXJyaWRlcyA8Y29kZT5zZXRQYXVzZU9uRXhjZXB0aW9uPC9jb2RlPiBzdGF0ZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzaWxlbnQ/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciB0aGUgcmVzdWx0IGlzIGV4cGVjdGVkIHRvIGJlIGEgSlNPTiBvYmplY3Qgd2hpY2ggc2hvdWxkIGJlIHNlbnQgYnkgdmFsdWUuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuQnlWYWx1ZT86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIHByZXZpZXcgc2hvdWxkIGJlIGdlbmVyYXRlZCBmb3IgdGhlIHJlc3VsdC5cbiAgICAgICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZW5lcmF0ZVByZXZpZXc/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciBleGVjdXRpb24gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgaW5pdGlhdGVkIGJ5IHVzZXIgaW4gdGhlIFVJLlxuICAgICAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHVzZXJHZXN0dXJlPzogYm9vbGVhblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgZXhlY3V0aW9uIHNob3VsZCB3YWl0IGZvciBwcm9taXNlIHRvIGJlIHJlc29sdmVkLiBJZiB0aGUgcmVzdWx0IG9mIGV2YWx1YXRpb24gaXMgbm90IGEgUHJvbWlzZSwgaXQncyBjb25zaWRlcmVkIHRvIGJlIGFuIGVycm9yLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGF3YWl0UHJvbWlzZT86IGJvb2xlYW5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAvKiogSWRlbnRpZmllciBvZiB0aGUgb2JqZWN0IHRvIHJldHVybiBwcm9wZXJ0aWVzIGZvci4gKi9cbiAgICAgICAgICAgIG9iamVjdElkOiBSZW1vdGVPYmplY3RJZFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHJldHVybnMgcHJvcGVydGllcyBiZWxvbmdpbmcgb25seSB0byB0aGUgZWxlbWVudCBpdHNlbGYsIG5vdCB0byBpdHMgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG93blByb3BlcnRpZXM/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdHJ1ZSwgcmV0dXJucyBhY2Nlc3NvciBwcm9wZXJ0aWVzICh3aXRoIGdldHRlci9zZXR0ZXIpIG9ubHk7IGludGVybmFsIHByb3BlcnRpZXMgYXJlIG5vdCByZXR1cm5lZCBlaXRoZXIuXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWNjZXNzb3JQcm9wZXJ0aWVzT25seT86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIHByZXZpZXcgc2hvdWxkIGJlIGdlbmVyYXRlZCBmb3IgdGhlIHJlc3VsdHMuXG4gICAgICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2VuZXJhdGVQcmV2aWV3PzogYm9vbGVhblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgcmVsZWFzZU9iamVjdCA9IHtcbiAgICAgICAgICAgIC8qKiBJZGVudGlmaWVyIG9mIHRoZSBvYmplY3QgdG8gcmVsZWFzZS4gKi9cbiAgICAgICAgICAgIG9iamVjdElkOiBSZW1vdGVPYmplY3RJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgcmVsZWFzZU9iamVjdEdyb3VwID0ge1xuICAgICAgICAgICAgLyoqIFN5bWJvbGljIG9iamVjdCBncm91cCBuYW1lLiAqL1xuICAgICAgICAgICAgb2JqZWN0R3JvdXA6IHN0cmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0Q3VzdG9tT2JqZWN0Rm9ybWF0dGVyRW5hYmxlZCA9IHtcbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgZW5hYmxlZDogYm9vbGVhblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgY29tcGlsZVNjcmlwdCA9IHtcbiAgICAgICAgICAgIC8qKiBFeHByZXNzaW9uIHRvIGNvbXBpbGUuICovXG4gICAgICAgICAgICBleHByZXNzaW9uOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqIFNvdXJjZSB1cmwgdG8gYmUgc2V0IGZvciB0aGUgc2NyaXB0LiAqL1xuICAgICAgICAgICAgc291cmNlVVJMOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBjb21waWxlZCBzY3JpcHQgc2hvdWxkIGJlIHBlcnNpc3RlZC4gKi9cbiAgICAgICAgICAgIHBlcnNpc3RTY3JpcHQ6IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTcGVjaWZpZXMgaW4gd2hpY2ggZXhlY3V0aW9uIGNvbnRleHQgdG8gcGVyZm9ybSBzY3JpcHQgcnVuLiBJZiB0aGUgcGFyYW1ldGVyIGlzIG9taXR0ZWQgdGhlIGV2YWx1YXRpb24gd2lsbCBiZSBwZXJmb3JtZWQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGluc3BlY3RlZCBwYWdlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHRJZD86IEV4ZWN1dGlvbkNvbnRleHRJZFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgcnVuU2NyaXB0ID0ge1xuICAgICAgICAgICAgLyoqIElkIG9mIHRoZSBzY3JpcHQgdG8gcnVuLiAqL1xuICAgICAgICAgICAgc2NyaXB0SWQ6IFNjcmlwdElkXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3BlY2lmaWVzIGluIHdoaWNoIGV4ZWN1dGlvbiBjb250ZXh0IHRvIHBlcmZvcm0gc2NyaXB0IHJ1bi4gSWYgdGhlIHBhcmFtZXRlciBpcyBvbWl0dGVkIHRoZSBldmFsdWF0aW9uIHdpbGwgYmUgcGVyZm9ybWVkIGluIHRoZSBjb250ZXh0IG9mIHRoZSBpbnNwZWN0ZWQgcGFnZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0SWQ/OiBFeGVjdXRpb25Db250ZXh0SWRcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTeW1ib2xpYyBncm91cCBuYW1lIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVsZWFzZSBtdWx0aXBsZSBvYmplY3RzLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG9iamVjdEdyb3VwPzogc3RyaW5nXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW4gc2lsZW50IG1vZGUgZXhjZXB0aW9ucyB0aHJvd24gZHVyaW5nIGV2YWx1YXRpb24gYXJlIG5vdCByZXBvcnRlZCBhbmQgZG8gbm90IHBhdXNlIGV4ZWN1dGlvbi4gT3ZlcnJpZGVzIDxjb2RlPnNldFBhdXNlT25FeGNlcHRpb248L2NvZGU+IHN0YXRlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNpbGVudD86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgQ29tbWFuZCBMaW5lIEFQSSBzaG91bGQgYmUgYXZhaWxhYmxlIGR1cmluZyB0aGUgZXZhbHVhdGlvbi5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbmNsdWRlQ29tbWFuZExpbmVBUEk/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciB0aGUgcmVzdWx0IGlzIGV4cGVjdGVkIHRvIGJlIGEgSlNPTiBvYmplY3Qgd2hpY2ggc2hvdWxkIGJlIHNlbnQgYnkgdmFsdWUuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuQnlWYWx1ZT86IGJvb2xlYW5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIHByZXZpZXcgc2hvdWxkIGJlIGdlbmVyYXRlZCBmb3IgdGhlIHJlc3VsdC5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZW5lcmF0ZVByZXZpZXc/OiBib29sZWFuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciBleGVjdXRpb24gc2hvdWxkIHdhaXQgZm9yIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQuIElmIHRoZSByZXN1bHQgb2YgZXZhbHVhdGlvbiBpcyBub3QgYSBQcm9taXNlLCBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgYW4gZXJyb3IuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXdhaXRQcm9taXNlPzogYm9vbGVhblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIENvbW1hbmQgUmVzdWx0ICoqKipcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgZXhwb3J0IG1vZHVsZSBSZXN1bHQge1xuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBldmFsdWF0ZSA9IHtcbiAgICAgICAgICAgIC8qKiBFdmFsdWF0aW9uIHJlc3VsdC4gKi9cbiAgICAgICAgICAgIHJlc3VsdDogUmVtb3RlT2JqZWN0XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXhjZXB0aW9uIGRldGFpbHMuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhjZXB0aW9uRGV0YWlscz86IEV4Y2VwdGlvbkRldGFpbHNcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGF3YWl0UHJvbWlzZSA9IHtcbiAgICAgICAgICAgIC8qKiBQcm9taXNlIHJlc3VsdC4gV2lsbCBjb250YWluIHJlamVjdGVkIHZhbHVlIGlmIHByb21pc2Ugd2FzIHJlamVjdGVkLiAqL1xuICAgICAgICAgICAgcmVzdWx0OiBSZW1vdGVPYmplY3RcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFeGNlcHRpb24gZGV0YWlscyBpZiBzdGFjayBzdHJhY2UgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4Y2VwdGlvbkRldGFpbHM/OiBFeGNlcHRpb25EZXRhaWxzXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBjYWxsRnVuY3Rpb25PbiA9IHtcbiAgICAgICAgICAgIC8qKiBDYWxsIHJlc3VsdC4gKi9cbiAgICAgICAgICAgIHJlc3VsdDogUmVtb3RlT2JqZWN0XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXhjZXB0aW9uIGRldGFpbHMuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhjZXB0aW9uRGV0YWlscz86IEV4Y2VwdGlvbkRldGFpbHNcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAvKiogT2JqZWN0IHByb3BlcnRpZXMuICovXG4gICAgICAgICAgICByZXN1bHQ6IFByb3BlcnR5RGVzY3JpcHRvcltdXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW50ZXJuYWwgb2JqZWN0IHByb3BlcnRpZXMgKG9ubHkgb2YgdGhlIGVsZW1lbnQgaXRzZWxmKS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbnRlcm5hbFByb3BlcnRpZXM/OiBJbnRlcm5hbFByb3BlcnR5RGVzY3JpcHRvcltdXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXhjZXB0aW9uIGRldGFpbHMuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhjZXB0aW9uRGV0YWlscz86IEV4Y2VwdGlvbkRldGFpbHNcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGNvbXBpbGVTY3JpcHQgPSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElkIG9mIHRoZSBzY3JpcHQuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2NyaXB0SWQ/OiBTY3JpcHRJZFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV4Y2VwdGlvbiBkZXRhaWxzLlxuICAgICAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4Y2VwdGlvbkRldGFpbHM/OiBFeGNlcHRpb25EZXRhaWxzXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBydW5TY3JpcHQgPSB7XG4gICAgICAgICAgICAvKiogUnVuIHJlc3VsdC4gKi9cbiAgICAgICAgICAgIHJlc3VsdDogUmVtb3RlT2JqZWN0XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXhjZXB0aW9uIGRldGFpbHMuXG4gICAgICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhjZXB0aW9uRGV0YWlscz86IEV4Y2VwdGlvbkRldGFpbHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIEV2ZW50IFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBtb2R1bGUgRXZlbnRQYXJhbXMge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXNzdWVkIHdoZW4gbmV3IGV4ZWN1dGlvbiBjb250ZXh0IGlzIGNyZWF0ZWQuXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGV4ZWN1dGlvbkNvbnRleHRDcmVhdGVkID0ge1xuICAgICAgICAgICAgLyoqIEEgbmV3bHkgY3JlYXRlZCBleGVjdXRpb24gY29udGV4dC4gKi9cbiAgICAgICAgICAgIGNvbnRleHQ6IEV4ZWN1dGlvbkNvbnRleHREZXNjcmlwdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzc3VlZCB3aGVuIGV4ZWN1dGlvbiBjb250ZXh0IGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZXhlY3V0aW9uQ29udGV4dERlc3Ryb3llZCA9IHtcbiAgICAgICAgICAgIC8qKiBJZCBvZiB0aGUgZGVzdHJveWVkIGNvbnRleHQgKi9cbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHRJZDogRXhlY3V0aW9uQ29udGV4dElkXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXNzdWVkIHdoZW4gZXhjZXB0aW9uIHdhcyB0aHJvd24gYW5kIHVuaGFuZGxlZC5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZXhjZXB0aW9uVGhyb3duID0ge1xuICAgICAgICAgICAgLyoqIFRpbWVzdGFtcCBvZiB0aGUgZXhjZXB0aW9uLiAqL1xuICAgICAgICAgICAgdGltZXN0YW1wOiBUaW1lc3RhbXBcblxuICAgICAgICAgICAgLyoqIE5vIGRlc2NyaXB0aW9uICovXG4gICAgICAgICAgICBleGNlcHRpb25EZXRhaWxzOiBFeGNlcHRpb25EZXRhaWxzXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXNzdWVkIHdoZW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiB3YXMgcmV2b2tlZC5cbiAgICAgICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZXhjZXB0aW9uUmV2b2tlZCA9IHtcbiAgICAgICAgICAgIC8qKiBSZWFzb24gZGVzY3JpYmluZyB3aHkgZXhjZXB0aW9uIHdhcyByZXZva2VkLiAqL1xuICAgICAgICAgICAgcmVhc29uOiBzdHJpbmdcblxuICAgICAgICAgICAgLyoqIFRoZSBpZCBvZiByZXZva2VkIGV4Y2VwdGlvbiwgYXMgcmVwb3J0ZWQgaW4gPGNvZGU+ZXhjZXB0aW9uVW5oYW5kbGVkPC9jb2RlPi4gKi9cbiAgICAgICAgICAgIGV4Y2VwdGlvbklkOiBudW1iZXJcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJc3N1ZWQgd2hlbiBjb25zb2xlIEFQSSB3YXMgY2FsbGVkLlxuICAgICAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgdHlwZSBjb25zb2xlQVBJQ2FsbGVkID0ge1xuICAgICAgICAgICAgLyoqIFR5cGUgb2YgdGhlIGNhbGwuICovXG4gICAgICAgICAgICB0eXBlOiAnbG9nJyB8ICdkZWJ1ZycgfCAnaW5mbycgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ2RpcicgfCAnZGlyeG1sJyB8ICd0YWJsZScgfCAndHJhY2UnIHwgJ2NsZWFyJyB8ICdzdGFydEdyb3VwJyB8ICdzdGFydEdyb3VwQ29sbGFwc2VkJyB8XG4gICAgICAgICAgICAgICAgJ2VuZEdyb3VwJyB8ICdhc3NlcnQnIHwgJ3Byb2ZpbGUnIHwgJ3Byb2ZpbGVFbmQnIHwgJ2NvdW50JyB8ICd0aW1lRW5kJ1xuXG4gICAgICAgICAgICAvKiogQ2FsbCBhcmd1bWVudHMuICovXG4gICAgICAgICAgICBhcmdzOiBSZW1vdGVPYmplY3RbXVxuXG4gICAgICAgICAgICAvKiogSWRlbnRpZmllciBvZiB0aGUgY29udGV4dCB3aGVyZSB0aGUgY2FsbCB3YXMgbWFkZS4gKi9cbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHRJZDogRXhlY3V0aW9uQ29udGV4dElkXG5cbiAgICAgICAgICAgIC8qKiBDYWxsIHRpbWVzdGFtcC4gKi9cbiAgICAgICAgICAgIHRpbWVzdGFtcDogVGltZXN0YW1wXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhY2sgdHJhY2UgY2FwdHVyZWQgd2hlbiB0aGUgY2FsbCB3YXMgbWFkZS5cbiAgICAgICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzdGFja1RyYWNlPzogU3RhY2tUcmFjZVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzc3VlZCB3aGVuIG9iamVjdCBzaG91bGQgYmUgaW5zcGVjdGVkIChmb3IgZXhhbXBsZSwgYXMgYSByZXN1bHQgb2YgaW5zcGVjdCgpIGNvbW1hbmQgbGluZSBBUEkgY2FsbCkuXG4gICAgICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGluc3BlY3RSZXF1ZXN0ZWQgPSB7XG4gICAgICAgICAgICAvKiogTm8gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIG9iamVjdDogUmVtb3RlT2JqZWN0XG5cbiAgICAgICAgICAgIC8qKiBObyBkZXNjcmlwdGlvbiAqL1xuICAgICAgICAgICAgaGludHM6IG9iamVjdFxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFJ1bnRpbWUgZG9tYWluIGV4cG9zZXMgSmF2YVNjcmlwdCBydW50aW1lIGJ5IG1lYW5zIG9mIHJlbW90ZSBldmFsdWF0aW9uIGFuZCBtaXJyb3Igb2JqZWN0cy4gRXZhbHVhdGlvbiByZXN1bHRzIGFyZSByZXR1cm5lZCBhcyBtaXJyb3Igb2JqZWN0IHRoYXQgZXhwb3NlIG9iamVjdCB0eXBlLCBzdHJpbmcgcmVwcmVzZW50YXRpb24gYW5kIHVuaXF1ZSBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgZm9yIGZ1cnRoZXIgb2JqZWN0IHJlZmVyZW5jZS4gT3JpZ2luYWwgb2JqZWN0cyBhcmUgbWFpbnRhaW5lZCBpbiBtZW1vcnkgdW5sZXNzIHRoZXkgYXJlIGVpdGhlciBleHBsaWNpdGx5IHJlbGVhc2VkIG9yIGFyZSByZWxlYXNlZCBhbG9uZyB3aXRoIHRoZSBvdGhlciBvYmplY3RzIGluIHRoZWlyIG9iamVjdCBncm91cC5cbiAqL1xuY2xhc3MgUnVudGltZSB7XG4gICAgcHJpdmF0ZSBldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZGJnOiBhbnkgLyogRWxlY3Ryb24uRGVidWdnZXIqLyApIHtcblxuICAgICAgICB0aGlzLmRiZy5vbignbWVzc2FnZScsIChldmVudDogYW55LCBtZXRob2Q6IGFueSwgcGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtkb21haW4sIGRvbWFpbk1ldGhvZF0gPSBtZXRob2Quc3BsaXQoJy4nKVxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChkb21haW5NZXRob2QsIHBhcmFtcylcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIXRoaXMuZGJnLmlzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIFJ1bnRpbWUgRG9tYWluIENsYXNzIGJlY2F1c2UgdGhlIGRlYnVnZ2VyIGlzIG5vdCBhdHRhY2hlZC5gKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgbGlzdGVuZXIpXG4gICAgfVxuXG4gICAgcHVibGljIG9uY2UoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBsaXN0ZW5lcilcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzc2VydEVycm9yKGVycm9yOiBhbnksIGNvbW1hbmROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiAnY29kZScgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWJ1Z2dlckVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLmNvZGUsIGNvbW1hbmROYW1lKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEV2YWx1YXRlcyBleHByZXNzaW9uIG9uIGdsb2JhbCBvYmplY3QuICovXG4gICAgcHVibGljIGFzeW5jIGV2YWx1YXRlKHBhcmFtczogUnVudGltZS5QYXJhbXMuZXZhbHVhdGUpOiBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LmV2YWx1YXRlPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LmV2YWx1YXRlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnUnVudGltZS5ldmFsdWF0ZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUuZXZhbHVhdGUnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIFJ1bnRpbWUuUmVzdWx0LmV2YWx1YXRlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogQWRkIGhhbmRsZXIgdG8gcHJvbWlzZSB3aXRoIGdpdmVuIHByb21pc2Ugb2JqZWN0IGlkLiAqL1xuICAgIHB1YmxpYyBhc3luYyBhd2FpdFByb21pc2UocGFyYW1zOiBSdW50aW1lLlBhcmFtcy5hd2FpdFByb21pc2UpOiBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LmF3YWl0UHJvbWlzZT57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxSdW50aW1lLlJlc3VsdC5hd2FpdFByb21pc2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLmF3YWl0UHJvbWlzZScsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUuYXdhaXRQcm9taXNlJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBSdW50aW1lLlJlc3VsdC5hd2FpdFByb21pc2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBDYWxscyBmdW5jdGlvbiB3aXRoIGdpdmVuIGRlY2xhcmF0aW9uIG9uIHRoZSBnaXZlbiBvYmplY3QuIE9iamVjdCBncm91cCBvZiB0aGUgcmVzdWx0IGlzIGluaGVyaXRlZCBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0LiAqL1xuICAgIHB1YmxpYyBhc3luYyBjYWxsRnVuY3Rpb25PbihwYXJhbXM6IFJ1bnRpbWUuUGFyYW1zLmNhbGxGdW5jdGlvbk9uKTogUHJvbWlzZTxSdW50aW1lLlJlc3VsdC5jYWxsRnVuY3Rpb25Pbj57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxSdW50aW1lLlJlc3VsdC5jYWxsRnVuY3Rpb25Pbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ1J1bnRpbWUuY2FsbEZ1bmN0aW9uT24nLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdSdW50aW1lLmNhbGxGdW5jdGlvbk9uJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBSdW50aW1lLlJlc3VsdC5jYWxsRnVuY3Rpb25PbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgcHJvcGVydGllcyBvZiBhIGdpdmVuIG9iamVjdC4gT2JqZWN0IGdyb3VwIG9mIHRoZSByZXN1bHQgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHRhcmdldCBvYmplY3QuICovXG4gICAgcHVibGljIGFzeW5jIGdldFByb3BlcnRpZXMocGFyYW1zOiBSdW50aW1lLlBhcmFtcy5nZXRQcm9wZXJ0aWVzKTogUHJvbWlzZTxSdW50aW1lLlJlc3VsdC5nZXRQcm9wZXJ0aWVzPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LmdldFByb3BlcnRpZXM+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLmdldFByb3BlcnRpZXMnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdSdW50aW1lLmdldFByb3BlcnRpZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIFJ1bnRpbWUuUmVzdWx0LmdldFByb3BlcnRpZXMpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBSZWxlYXNlcyByZW1vdGUgb2JqZWN0IHdpdGggZ2l2ZW4gaWQuICovXG4gICAgcHVibGljIGFzeW5jIHJlbGVhc2VPYmplY3QocGFyYW1zOiBSdW50aW1lLlBhcmFtcy5yZWxlYXNlT2JqZWN0KTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnUnVudGltZS5yZWxlYXNlT2JqZWN0JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnUnVudGltZS5yZWxlYXNlT2JqZWN0JylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJlbGVhc2VzIGFsbCByZW1vdGUgb2JqZWN0cyB0aGF0IGJlbG9uZyB0byBhIGdpdmVuIGdyb3VwLiAqL1xuICAgIHB1YmxpYyBhc3luYyByZWxlYXNlT2JqZWN0R3JvdXAocGFyYW1zOiBSdW50aW1lLlBhcmFtcy5yZWxlYXNlT2JqZWN0R3JvdXApOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLnJlbGVhc2VPYmplY3RHcm91cCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUucmVsZWFzZU9iamVjdEdyb3VwJylcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFRlbGxzIGluc3BlY3RlZCBpbnN0YW5jZSB0byBydW4gaWYgaXQgd2FzIHdhaXRpbmcgZm9yIGRlYnVnZ2VyIHRvIGF0dGFjaC4gKi9cbiAgICBwdWJsaWMgYXN5bmMgcnVuSWZXYWl0aW5nRm9yRGVidWdnZXIoKTogUHJvbWlzZTx1bmRlZmluZWQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnUnVudGltZS5ydW5JZldhaXRpbmdGb3JEZWJ1Z2dlcicsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnUnVudGltZS5ydW5JZldhaXRpbmdGb3JEZWJ1Z2dlcicpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBFbmFibGVzIHJlcG9ydGluZyBvZiBleGVjdXRpb24gY29udGV4dHMgY3JlYXRpb24gYnkgbWVhbnMgb2YgPGNvZGU+ZXhlY3V0aW9uQ29udGV4dENyZWF0ZWQ8L2NvZGU+IGV2ZW50LiBXaGVuIHRoZSByZXBvcnRpbmcgZ2V0cyBlbmFibGVkIHRoZSBldmVudCB3aWxsIGJlIHNlbnQgaW1tZWRpYXRlbHkgZm9yIGVhY2ggZXhpc3RpbmcgZXhlY3V0aW9uIGNvbnRleHQuICovXG4gICAgcHVibGljIGFzeW5jIGVuYWJsZSgpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLmVuYWJsZScsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnUnVudGltZS5lbmFibGUnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogRGlzYWJsZXMgcmVwb3J0aW5nIG9mIGV4ZWN1dGlvbiBjb250ZXh0cyBjcmVhdGlvbi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZGlzYWJsZSgpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLmRpc2FibGUnLCB7fSwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUuZGlzYWJsZScpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKiBEaXNjYXJkcyBjb2xsZWN0ZWQgZXhjZXB0aW9ucyBhbmQgY29uc29sZSBBUEkgY2FsbHMuICovXG4gICAgcHVibGljIGFzeW5jIGRpc2NhcmRDb25zb2xlRW50cmllcygpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLmRpc2NhcmRDb25zb2xlRW50cmllcycsIHt9LCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnUnVudGltZS5kaXNjYXJkQ29uc29sZUVudHJpZXMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBObyBkZXNjcmlwdGlvblxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0Q3VzdG9tT2JqZWN0Rm9ybWF0dGVyRW5hYmxlZChwYXJhbXM6IFJ1bnRpbWUuUGFyYW1zLnNldEN1c3RvbU9iamVjdEZvcm1hdHRlckVuYWJsZWQpOiBQcm9taXNlPHVuZGVmaW5lZD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLnNldEN1c3RvbU9iamVjdEZvcm1hdHRlckVuYWJsZWQnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdSdW50aW1lLnNldEN1c3RvbU9iamVjdEZvcm1hdHRlckVuYWJsZWQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogQ29tcGlsZXMgZXhwcmVzc2lvbi4gKi9cbiAgICBwdWJsaWMgYXN5bmMgY29tcGlsZVNjcmlwdChwYXJhbXM6IFJ1bnRpbWUuUGFyYW1zLmNvbXBpbGVTY3JpcHQpOiBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LmNvbXBpbGVTY3JpcHQ+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8UnVudGltZS5SZXN1bHQuY29tcGlsZVNjcmlwdD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ1J1bnRpbWUuY29tcGlsZVNjcmlwdCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUuY29tcGlsZVNjcmlwdCcpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgUnVudGltZS5SZXN1bHQuY29tcGlsZVNjcmlwdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFJ1bnMgc2NyaXB0IHdpdGggZ2l2ZW4gaWQgaW4gYSBnaXZlbiBjb250ZXh0LiAqL1xuICAgIHB1YmxpYyBhc3luYyBydW5TY3JpcHQocGFyYW1zOiBSdW50aW1lLlBhcmFtcy5ydW5TY3JpcHQpOiBQcm9taXNlPFJ1bnRpbWUuUmVzdWx0LnJ1blNjcmlwdD57XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTxSdW50aW1lLlJlc3VsdC5ydW5TY3JpcHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGJnLnNlbmRDb21tYW5kKCdSdW50aW1lLnJ1blNjcmlwdCcsIHBhcmFtcywgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFcnJvcihlcnJvciwgJ1J1bnRpbWUucnVuU2NyaXB0JylcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBSdW50aW1lLlJlc3VsdC5ydW5TY3JpcHQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBSdW50aW1lIl19