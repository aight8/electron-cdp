"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const EventEmitter = require("events");
const DebuggerError_1 = require("./DebuggerError");
/**
 * The Browser domain defines methods and events for browser managing.
 * @experimental
 */
class Browser {
    constructor(dbg /* Electron.Debugger*/) {
        this.dbg = dbg; /* Electron.Debugger*/
        this.events = new EventEmitter();
        if (!this.dbg.isAttached()) {
            throw new Error(`Cannot create Browser Domain Class because the debugger is not attached.`);
        }
    }
    on(event, listener) {
        this.events.on(event, listener);
    }
    once(event, listener) {
        this.events.on(event, listener);
    }
    assertError(error, commandName) {
        if ('message' in error && 'code' in error) {
            throw new DebuggerError_1.default(error.message, error.code, commandName);
        }
    }
    /** Get the browser window that contains the devtools target. */
    async getWindowForTarget(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Browser.getWindowForTarget', params, (error, result) => {
                this.assertError(error, 'Browser.getWindowForTarget');
                resolve(result);
            });
        });
    }
    /** Set position and/or size of the browser window. */
    async setWindowBounds(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Browser.setWindowBounds', params, (error, result) => {
                this.assertError(error, 'Browser.setWindowBounds');
                resolve();
            });
        });
    }
    /** Get position and size of the browser window. */
    async getWindowBounds(params) {
        return await new Promise((resolve, reject) => {
            this.dbg.sendCommand('Browser.getWindowBounds', params, (error, result) => {
                this.assertError(error, 'Browser.getWindowBounds');
                resolve(result);
            });
        });
    }
}
exports.default = Browser;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnJvd3Nlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL2dlbmVyYXRlZC10cy9Ccm93c2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQXNDO0FBQ3RDLG1EQUEyQztBQXlHM0M7OztHQUdHO0FBQ0g7SUFHSSxZQUE2QixHQUFRLENBQUMsc0JBQXNCO1FBQS9CLFFBQUcsR0FBSCxHQUFHLENBQUssQ0FBQyxzQkFBc0I7UUFGcEQsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUE7UUFJL0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QixNQUFNLElBQUksS0FBSyxDQUFDLDBFQUEwRSxDQUFDLENBQUE7UUFDL0YsQ0FBQztJQUNMLENBQUM7SUFFTSxFQUFFLENBQUMsS0FBYSxFQUFFLFFBQWtCO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRU0sSUFBSSxDQUFDLEtBQWEsRUFBRSxRQUFrQjtRQUN6QyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVPLFdBQVcsQ0FBQyxLQUFVLEVBQUUsV0FBbUI7UUFDL0MsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLEtBQUssSUFBSSxNQUFNLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN4QyxNQUFNLElBQUksdUJBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDbkUsQ0FBQztJQUNMLENBQUM7SUFFRCxnRUFBZ0U7SUFDekQsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE1BQXlDO1FBQ3JFLE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFvQyxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ3hFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUMvRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSw0QkFBNEIsQ0FBQyxDQUFBO2dCQUNyRCxPQUFPLENBQUMsTUFBMkMsQ0FBQyxDQUFBO1lBQ3hELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsc0RBQXNEO0lBQy9DLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBc0M7UUFDL0QsTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTTtZQUNoRCxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxLQUFVLEVBQUUsTUFBVztnQkFDNUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUseUJBQXlCLENBQUMsQ0FBQTtnQkFDbEQsT0FBTyxFQUFFLENBQUE7WUFDYixDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELG1EQUFtRDtJQUM1QyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQXNDO1FBQy9ELE1BQU0sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFpQyxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ3JFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHlCQUF5QixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQVUsRUFBRSxNQUFXO2dCQUM1RSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFBO2dCQUNsRCxPQUFPLENBQUMsTUFBd0MsQ0FBQyxDQUFBO1lBQ3JELENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0NBRUo7QUFFRCxrQkFBZSxPQUFPLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJ1xuaW1wb3J0IERlYnVnZ2VyRXJyb3IgZnJvbSAnLi9EZWJ1Z2dlckVycm9yJ1xuaW1wb3J0IFRhcmdldCBmcm9tICcuL1RhcmdldCdcblxubW9kdWxlIEJyb3dzZXIge1xuICAgIC8qKioqKioqKioqKioqKipcbiAgICAgKioqKiBUeXBlcyAqKioqXG4gICAgICoqKioqKioqKioqKioqL1xuXG4gICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICBleHBvcnQgdHlwZSBXaW5kb3dJRCA9IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXRlIG9mIHRoZSBicm93c2VyIHdpbmRvdy5cbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgV2luZG93U3RhdGUgPSAnbm9ybWFsJyB8ICdtaW5pbWl6ZWQnIHwgJ21heGltaXplZCcgfCAnZnVsbHNjcmVlbidcblxuICAgIC8qKlxuICAgICAqIEJyb3dzZXIgd2luZG93IGJvdW5kcyBpbmZvcm1hdGlvblxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBCb3VuZHMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IGZyb20gdGhlIGxlZnQgZWRnZSBvZiB0aGUgc2NyZWVuIHRvIHRoZSB3aW5kb3cgaW4gcGl4ZWxzLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIGxlZnQ/OiBudW1iZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBmcm9tIHRoZSB0b3AgZWRnZSBvZiB0aGUgc2NyZWVuIHRvIHRoZSB3aW5kb3cgaW4gcGl4ZWxzLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHRvcD86IG51bWJlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2luZG93IHdpZHRoIGluIHBpeGVscy5cbiAgICAgICAgICogQG9wdGlvbmFsXG4gICAgICAgICAqL1xuICAgICAgICB3aWR0aD86IG51bWJlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2luZG93IGhlaWdodCBpbiBwaXhlbHMuXG4gICAgICAgICAqIEBvcHRpb25hbFxuICAgICAgICAgKi9cbiAgICAgICAgaGVpZ2h0PzogbnVtYmVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aW5kb3cgc3RhdGUuIERlZmF1bHQgdG8gbm9ybWFsLlxuICAgICAgICAgKiBAb3B0aW9uYWxcbiAgICAgICAgICovXG4gICAgICAgIHdpbmRvd1N0YXRlPzogV2luZG93U3RhdGVcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIENvbW1hbmQgUGFyYW1ldGVycyAqKioqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBleHBvcnQgbW9kdWxlIFBhcmFtcyB7XG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFdpbmRvd0ZvclRhcmdldCA9IHtcbiAgICAgICAgICAgIC8qKiBEZXZ0b29scyBhZ2VudCBob3N0IGlkLiAqL1xuICAgICAgICAgICAgdGFyZ2V0SWQ6IFRhcmdldC5UYXJnZXRJRFxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgc2V0V2luZG93Qm91bmRzID0ge1xuICAgICAgICAgICAgLyoqIEJyb3dzZXIgd2luZG93IGlkLiAqL1xuICAgICAgICAgICAgd2luZG93SWQ6IFdpbmRvd0lEXG5cbiAgICAgICAgICAgIC8qKiBOZXcgd2luZG93IGJvdW5kcy4gVGhlICdtaW5pbWl6ZWQnLCAnbWF4aW1pemVkJyBhbmQgJ2Z1bGxzY3JlZW4nIHN0YXRlcyBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCAnbGVmdCcsICd0b3AnLCAnd2lkdGgnIG9yICdoZWlnaHQnLiBMZWF2ZXMgdW5zcGVjaWZpZWQgZmllbGRzIHVuY2hhbmdlZC4gKi9cbiAgICAgICAgICAgIGJvdW5kczogQm91bmRzXG4gICAgICAgIH1cblxuICAgICAgICAvKiogQGV4cGVyaW1lbnRhbCAqL1xuICAgICAgICBleHBvcnQgdHlwZSBnZXRXaW5kb3dCb3VuZHMgPSB7XG4gICAgICAgICAgICAvKiogQnJvd3NlciB3aW5kb3cgaWQuICovXG4gICAgICAgICAgICB3aW5kb3dJZDogV2luZG93SURcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKioqKiBDb21tYW5kIFJlc3VsdCAqKioqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBtb2R1bGUgUmVzdWx0IHtcbiAgICAgICAgLyoqIEBleHBlcmltZW50YWwgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgZ2V0V2luZG93Rm9yVGFyZ2V0ID0ge1xuICAgICAgICAgICAgLyoqIEJyb3dzZXIgd2luZG93IGlkLiAqL1xuICAgICAgICAgICAgd2luZG93SWQ6IFdpbmRvd0lEXG5cbiAgICAgICAgICAgIC8qKiBCb3VuZHMgaW5mb3JtYXRpb24gb2YgdGhlIHdpbmRvdy4gV2hlbiB3aW5kb3cgc3RhdGUgaXMgJ21pbmltaXplZCcsIHRoZSByZXN0b3JlZCB3aW5kb3cgcG9zaXRpb24gYW5kIHNpemUgYXJlIHJldHVybmVkLiAqL1xuICAgICAgICAgICAgYm91bmRzOiBCb3VuZHNcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAZXhwZXJpbWVudGFsICovXG4gICAgICAgIGV4cG9ydCB0eXBlIGdldFdpbmRvd0JvdW5kcyA9IHtcbiAgICAgICAgICAgIC8qKiBCb3VuZHMgaW5mb3JtYXRpb24gb2YgdGhlIHdpbmRvdy4gV2hlbiB3aW5kb3cgc3RhdGUgaXMgJ21pbmltaXplZCcsIHRoZSByZXN0b3JlZCB3aW5kb3cgcG9zaXRpb24gYW5kIHNpemUgYXJlIHJldHVybmVkLiAqL1xuICAgICAgICAgICAgYm91bmRzOiBCb3VuZHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqIEV2ZW50IFBhcmFtZXRlcnMgKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG59XG5cbi8qKlxuICogVGhlIEJyb3dzZXIgZG9tYWluIGRlZmluZXMgbWV0aG9kcyBhbmQgZXZlbnRzIGZvciBicm93c2VyIG1hbmFnaW5nLlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5jbGFzcyBCcm93c2VyIHtcbiAgICBwcml2YXRlIGV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBkYmc6IGFueSAvKiBFbGVjdHJvbi5EZWJ1Z2dlciovICkge1xuXG4gICAgICAgIGlmICghdGhpcy5kYmcuaXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgQnJvd3NlciBEb21haW4gQ2xhc3MgYmVjYXVzZSB0aGUgZGVidWdnZXIgaXMgbm90IGF0dGFjaGVkLmApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb24oZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBsaXN0ZW5lcilcbiAgICB9XG5cbiAgICBwdWJsaWMgb25jZShldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGxpc3RlbmVyKVxuICAgIH1cblxuICAgIHByaXZhdGUgYXNzZXJ0RXJyb3IoZXJyb3I6IGFueSwgY29tbWFuZE5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoJ21lc3NhZ2UnIGluIGVycm9yICYmICdjb2RlJyBpbiBlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlYnVnZ2VyRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IuY29kZSwgY29tbWFuZE5hbWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogR2V0IHRoZSBicm93c2VyIHdpbmRvdyB0aGF0IGNvbnRhaW5zIHRoZSBkZXZ0b29scyB0YXJnZXQuICovXG4gICAgcHVibGljIGFzeW5jIGdldFdpbmRvd0ZvclRhcmdldChwYXJhbXM6IEJyb3dzZXIuUGFyYW1zLmdldFdpbmRvd0ZvclRhcmdldCk6IFByb21pc2U8QnJvd3Nlci5SZXN1bHQuZ2V0V2luZG93Rm9yVGFyZ2V0PntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPEJyb3dzZXIuUmVzdWx0LmdldFdpbmRvd0ZvclRhcmdldD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0Jyb3dzZXIuZ2V0V2luZG93Rm9yVGFyZ2V0JywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQnJvd3Nlci5nZXRXaW5kb3dGb3JUYXJnZXQnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIEJyb3dzZXIuUmVzdWx0LmdldFdpbmRvd0ZvclRhcmdldClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIFNldCBwb3NpdGlvbiBhbmQvb3Igc2l6ZSBvZiB0aGUgYnJvd3NlciB3aW5kb3cuICovXG4gICAgcHVibGljIGFzeW5jIHNldFdpbmRvd0JvdW5kcyhwYXJhbXM6IEJyb3dzZXIuUGFyYW1zLnNldFdpbmRvd0JvdW5kcyk6IFByb21pc2U8dW5kZWZpbmVkPntcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYmcuc2VuZENvbW1hbmQoJ0Jyb3dzZXIuc2V0V2luZG93Qm91bmRzJywgcGFyYW1zLCAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEVycm9yKGVycm9yLCAnQnJvd3Nlci5zZXRXaW5kb3dCb3VuZHMnKVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogR2V0IHBvc2l0aW9uIGFuZCBzaXplIG9mIHRoZSBicm93c2VyIHdpbmRvdy4gKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0V2luZG93Qm91bmRzKHBhcmFtczogQnJvd3Nlci5QYXJhbXMuZ2V0V2luZG93Qm91bmRzKTogUHJvbWlzZTxCcm93c2VyLlJlc3VsdC5nZXRXaW5kb3dCb3VuZHM+e1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8QnJvd3Nlci5SZXN1bHQuZ2V0V2luZG93Qm91bmRzPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiZy5zZW5kQ29tbWFuZCgnQnJvd3Nlci5nZXRXaW5kb3dCb3VuZHMnLCBwYXJhbXMsIChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXJyb3IoZXJyb3IsICdCcm93c2VyLmdldFdpbmRvd0JvdW5kcycpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQgYXMgQnJvd3Nlci5SZXN1bHQuZ2V0V2luZG93Qm91bmRzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnJvd3NlciJdfQ==